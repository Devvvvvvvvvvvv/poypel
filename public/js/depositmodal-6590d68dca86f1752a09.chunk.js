(("undefined"!==typeof self?self:this).webpackJsonp=("undefined"!==typeof self?self:this).webpackJsonp||[]).push([[18],{"3he+":function(e,t,a){"use strict";a.r(t),a.d(t,"DepositModal",(function(){return f}));var i=a("5n0U"),o=a("mXGw"),n=a("oNR1"),r=a("p4CU"),s=a("B6gP"),c=a("cqL8"),d=a("Nq15"),l=a("PS9E"),u=a("Bb2r");const b=a.n(u)()({loader:()=>Promise.all([a.e(18),a.e(856),a.e(840)]).then(a.bind(null,"i+Zc")),loading:()=>null}),p=Object(o.lazy)(()=>Promise.all([a.e(1),a.e(13),a.e(14),a.e(593)]).then(a.bind(null,"/u9F"))),m=["USD","EUR","GBP","JPY"],f=({accountId:e,close:t,allowRedirect:a=!0,allowCryptoReceive:u,suggestedAmount:f,onSuccess:g})=>{const h=Object(c.b)(),O=Object(n.h)(),{id:j}=Object(n.j)(),v=Object(r.a)(()=>j||e||""),y=Object(r.a)(()=>h.find(e=>e.id===v)),w=Object(s.h)(),C=Object(o.useCallback)(()=>{t&&t(),a?O.push(Object(d.b)(v||"")):w()},[O,t,a,w,v]);return y?y.isVault?Object(i.a)(b,{account:y,close:C}):y.isCrypto&&u?Object(i.a)(s.g,{},void 0,Object(i.a)(p,{accountId:v})):y.isCrypto?Object(i.a)(n.b,{to:Object(d.b)(v)}):m.includes(y.currency.code)?Object(i.a)(l.a,{account:y,close:C,suggestedAmount:f,onSuccess:g}):null:null};t.default=Object(o.memo)(f)},GBHF:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("mXGw"),o=a("xw2k");a.d(t,"b",(function(){return o.default}));const n=Object(i.lazy)(()=>Promise.resolve().then(a.bind(null,"xw2k")))},KPBO:function(e,t,a){"use strict";var i=a("5n0U"),o=a("mXGw"),n=a("hWgQ"),r=a("gN02"),s=a("iNnr"),c=a("abUL"),d=a("NZci"),l=a("KqNE"),u=a("mxbj"),b=a("UutA"),p=a("iNCe");const m=b.e.div.withConfig({displayName:"Confirmation__ReviewContainer",componentId:"sc-1mt3009-0"})(["position:relative;"]),f=b.e.div.withConfig({displayName:"Confirmation__Spacer",componentId:"sc-1mt3009-1"})(["height:700px;"]);function g({close:e}){return Object(i.a)(m,{},void 0,Object(i.a)(p.a,{hideCompletionMask:()=>e&&e()}),Object(i.a)(f,{}))}var h=a("GcVA"),O=a("TDwA"),j=a("URTx"),v=a("1YZV"),y=a("fpjO");function w(e,t){const a=Object(v.a)(y.a.createVirtualAccountNumberRequest());Object(o.useEffect)(()=>{try{e.find(e=>"account_number"===e.key)&&(async()=>{await a({accountId:t.id},{})})()}catch(i){Bugsnag.notify(i,{metaData:{accountId:t.id}})}},[])}var C=Object(h.b)(({depositInformation:e,account:t})=>(w(e,t),Object(O.useLogEventOnMount)("deposit_fedwire_instructions_viewed",{componentType:O.ComponentType.page,loggingId:"bbcff1f6-5b37-45e2-b23b-02937301931b"}),Object(i.a)(j.a,{depositInformation:e,bankType:{type:"fedwire"}})));const M=Object(n.c)({error:{id:"FedWireSteps.error",defaultMessage:"There was an error creating a virtual account"}});function S({close:e,account:t,requirement:a,wireDepositInformation:o}){const{formatMessage:n}=Object(r.a)(),{showErrorToast:b}=Object(u.a)(),p=a?"requirement":"info";return Object(i.a)(s.a,{onCatch:()=>{b(n(M.error))}},void 0,Object(i.a)(c.b,{boundaryName:"FedWireSteps",onCatch:()=>{b(n(M.error))}},void 0,Object(i.a)(l.d,{defaultStep:p},void 0,Object(i.a)(d.a,{stepName:"requirement",requirement:a,nextStep:"info"}),Object(i.a)(C,{stepName:"info",account:t,depositInformation:o.depositInformation}),Object(i.a)(g,{close:e,stepName:"final"}))))}t.a=Object(o.memo)(S)},PS9E:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var i=a("Bb2r");const o=a.n(i)()({loader:()=>Promise.all([a.e(0),a.e(1),a.e(2),a.e(5),a.e(18),a.e(34),a.e(3),a.e(17),a.e(4),a.e(6),a.e(7),a.e(8),a.e(9),a.e(10),a.e(11),a.e(15),a.e(25),a.e(32),a.e(37),a.e(546)]).then(a.bind(null,"Soow")),loading:()=>null})},Soow:function(e,t,a){"use strict";a.r(t),a.d(t,"DepositFiatModal",(function(){return C})),a.d(t,"DepositFiatModalContent",(function(){return w}));var i=a("5n0U"),o=a("mXGw"),n=a("GcVA"),r=a("hWgQ"),s=a("gN02"),c=a("SPtF"),d=a("/PpR"),l=a("iiUS"),u=a("MH3X"),b=a("B6gP"),p=a("NTuX"),m=a("o58U"),f=a("UXzZ"),g=a("6Ms/"),h=a("pW8h"),O=a("fpjO"),j=a("GBHF");var v=(e,t)=>{const[a,i]=Object(o.useState)(t||"");let n=a;var r,s;e.availableDepositMethods.some(e=>e.type===a)||(n=(null===(r=e.availableDepositMethods)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.type)||"");return{activeTab:n,changeTab:i}};const y=Object(r.c)({depositFormTitle:{id:"DepositFiatModal.depositFormTitle",defaultMessage:"Add cash"},noDepositMethodsTitle:{id:"DepositFiatModal.noDepositMethodsTitle",defaultMessage:"You can't add cash to this account."},noDepositMethodsMessage:{id:"DepositFiatModal.noDepositMethodsMessage",defaultMessage:"You don't have any methods to add cash enabled."}}),w=({account:e,defaultTab:t,suggestedAmount:a,close:o,onSuccess:n})=>{const{formatMessage:r}=Object(s.a)(),[{data:l},m]=Object(d.a)(t=>t(c.a)(O.a.detailShape(),{accountId:e.id}),e=>e(h.a)({type:"deposits"})),{activeTab:w,changeTab:C}=v(l,t),M=(t,r,s)=>Object(i.a)(j.b,{depositMethodType:s,depositMethod:t,depositCurrency:r,close:o,account:e,suggestedAmount:a,onSuccess:n});return Object(i.a)(g.a.Provider,{value:"deposit"},void 0,((null===m||void 0===m?void 0:m.length)||0)>0?(()=>{const e=m[0];return Object(i.a)(b.b,{},void 0,Object(i.a)(u.a,{title:e.message,description:e.description,policyRestriction:e,transferType:"deposits"}))})():(()=>{if(!(l.depositsAllowed&&l.availableDepositMethods.length>0))return Object(i.a)(b.b,{},void 0,Object(i.a)(u.a,{title:r(y.noDepositMethodsTitle),description:r(y.noDepositMethodsMessage)}));if(1===l.availableDepositMethods.length){const e=l.availableDepositMethods[0];return e?Object(i.a)(b.b,{},void 0,M(e,l.depositCurrency,e.type)):null}return Object(i.a)(f.b,{selectedValue:w,onChange:C},void 0,l.availableDepositMethods.reduce((e,t)=>{const a=(e=>{const t=l.availableDepositMethods.find(t=>t.type===e);return t?Object(i.a)(f.a,{value:e,label:t.name},e,Object(i.a)(p.a,{},void 0,M(t,l.depositCurrency,e))):null})(t.type);return a&&e.push(a),e},[]))})())};function C({account:e,defaultTab:t,suggestedAmount:a,close:o}){const{formatMessage:n}=Object(s.a)(),{currency:r}=e;return Object(i.a)(b.a,{topAligned:!0,close:o},void 0,Object(i.a)(l.VStack,{flexGrow:1,flexShrink:1,flexBasis:"auto"},void 0,Object(i.a)(b.d,{title:n(y.depositFormTitle,{currency:r.code})}),Object(i.a)(m.a,{boundaryName:"DepositFiatModal"},void 0,Object(i.a)(w,{account:e,close:o,defaultTab:t,suggestedAmount:a}))))}t.default=Object(n.b)(C)},"i+Zc":function(e,t,a){"use strict";a.r(t),a.d(t,"TestProps",(function(){return pe})),a.d(t,"VaultDepositModal",(function(){return fe})),a.d(t,"VaultDepositModalContent",(function(){return me}));var i=a("5n0U"),o=a("mXGw"),n=a.n(o),r=a("hWgQ"),s=a("gN02"),c=a("1YZV"),d=a("UutA"),l=a("WI56"),u=a("hIT1"),b=a("uUYl"),p=a("hH6s"),m=a("B6gP"),f=a("o58U"),g=a("UXzZ"),h=a("cqL8"),O=a("oFLp"),j=a("jDdq"),v=a("Bc3v"),y=a("Kij7"),w=a("Mz/W"),C=a.n(w),M=a("vBtu"),S=a("5ezY"),k=a("tFAH"),T=a("wngC"),I=a("iiUS"),A=a("AaJB"),D=a("rdkD"),_=a("ROha"),N=a("4gc5");const x="AccountDepositAddress.eovj902",W=Object(r.c)({instantExchangeNotice:{id:"AccountDepositAddress.eovj902.instantExchangeNotice",defaultMessage:"Bitcoin sent to this address will be automatically converted to {currency} using our standard Buy/Sell fees. Read more on our {support} page."},support:{id:"AccountDepositAddress.eovj902.support",defaultMessage:"support"},addressLabel:{id:"AccountDepositAddress.eovj902.addressLabel",defaultMessage:"Wallet address"}}),E="20%",z="-40%",B=()=>Object(i.a)(re,{},void 0,Object(i.a)(_.a,{href:"https://support.coinbase.com/customer/portal/articles/2921133-cashaddr-faq",color:"accent",target:"_blank"},void 0,Object(i.a)(M.a,{id:x+".addressTroubleNotice",defaultMessage:"Having trouble with this address?"}))),P=({intl:e,currencyCode:t})=>Object(i.a)(re,{},void 0,Object(i.a)(S.a,{size:"small",weight:"regular",color:"slate"},void 0,e.formatMessage(W.instantExchangeNotice,{currency:t,support:Object(i.a)("a",{href:"https://support.coinbase.com/customer/portal/articles/2021569-what-is-instant-exchange-",target:"_blank",rel:"noopener noreferrer"},void 0,e.formatMessage(W.support))}))),R=({id:e,label:t,hasMarginTop:a})=>Object(i.a)(q,{hasMarginTop:a},void 0,Object(i.a)(G,{},void 0,t),Object(i.a)(ie,{},void 0,Object(i.a)(oe,{},void 0,Object(i.a)(Q,{monospace:!0,size:"small"},void 0,e)),Object(i.a)(ne,{align:"center"},void 0,Object(i.a)(D.a,{value:e})))),F=({intl:e,address:t,tag:a,tagName:o})=>n.a.createElement(n.a.Fragment,null,Object(i.a)(R,{id:t,label:e.formatMessage(W.addressLabel)}),a&&o&&Object(i.a)(R,{id:a,label:o,hasMarginTop:!0})),U=({dismissedWarnings:e,displayedWarnings:t,onClick:a})=>n.a.createElement(n.a.Fragment,null,t.map((t,o)=>e.includes(o)?null:Object(i.a)(X,{},t.title,Object(i.a)(Y,{column:!0,justify:"center",align:"center"},void 0,Object(i.a)(se,{src:t.imageUrl}),Object(i.a)(Z,{weight:"demiBold",size:"large",color:"slateDark"},void 0,t.title),Object(i.a)(K,{},void 0,t.details),Object(i.a)(A.a,{size:"large",onClick:()=>a(o)},void 0,Object(i.a)(M.a,{defaultMessage:"I understand",id:x+".showAddressButtonText"})))))),L=({address:e,currency:t,type:a})=>{var n;const r=Object(s.a)(),c=Object(N.a)(),[d,l]=Object(o.useState)({dismissedWarnings:[],activeQr:"address",qrTransform:E}),u=Object(o.useMemo)(()=>e.warnings.slice().reverse(),[e.warnings]),b=Object(o.useMemo)(()=>{var t;return(null===(t=c.featureFlags)||void 0===t?void 0:t.includes("2019.may.qr_code_updates"))?e.depositUri:e.uriScheme?`${e.uriScheme}:${e.addressInfo.address}`:e.addressInfo.address},[e,c]),p=(null===(n=e.addressInfo)||void 0===n?void 0:n.destinationTag)||"",m=null===t||void 0===t?void 0:t.destinationTagName,f=Object(o.useCallback)(e=>{l(Object.assign({},d,{dismissedWarnings:[...d.dismissedWarnings,e]}))},[d]),g=Object(o.useCallback)(e=>{const{formatMessage:t}=r,a=d.activeQr===e,o="address"===e,n=o?b:p,s=Object(i.a)(I.VStack,{},void 0,Object(i.a)(T.Box,{dangerouslySetBackground:"white",spacing:1},void 0,Object(i.a)(te,{onClick:()=>l(Object.assign({},d,{activeQr:e,qrTransform:o?E:z})),opacity:a?0:.95,onMouseEnter:()=>{a||l(Object.assign({},d,{qrTransform:o?"-38%":"18%"}))},onMouseLeave:()=>{a||l(Object.assign({},d,{qrTransform:o?z:E}))}},void 0,Object(i.a)(C.a,{value:n,size:200}))),Object(i.a)(ae,{},void 0,o?t(W.addressLabel):m));return Object(i.a)(ee,{},void 0,s)},[d,r,b,p,m]),h=Object(o.useMemo)(()=>{const{qrTransform:e}=d;return Object(i.a)($,{},void 0,Object(i.a)(J,{transform:e},void 0,g("address"),p&&g("tag")))},[d,g,p]);return Object(i.a)(H,{auto:!0,column:!0,align:"center"},void 0,h,Object(i.a)(V,{},void 0,Object(i.a)(F,{intl:r,address:e.addressInfo.address,tag:p,tagName:m}),e.warnings.length>0&&Object(i.a)(U,{dismissedWarnings:d.dismissedWarnings,displayedWarnings:u,onClick:f}),"BCH"===t.code&&Object(i.a)(B,{}),"fiat"===a&&Object(i.a)(P,{intl:r,currencyCode:t.code})))},V=d.e.div.withConfig({displayName:"AccountDepositAddress__PaddedContent",componentId:"sc-47rcnz-0"})(["width:100%;padding:",";padding-top:0;"],e=>e.theme.size.huge),q=Object(d.e)(l.a).attrs(()=>({column:!0})).withConfig({displayName:"AccountDepositAddress__AddressWrapper",componentId:"sc-47rcnz-1"})(["width:100%;",";"],e=>e.hasMarginTop&&"margin-top: 16px"),G=Object(d.e)(S.a).withConfig({displayName:"AccountDepositAddress__AddressLabel",componentId:"sc-47rcnz-2"})(["margin-bottom:4px;color:",";"],e=>e.theme.color.text),Q=Object(d.e)(S.a).withConfig({displayName:"AccountDepositAddress__StyledText",componentId:"sc-47rcnz-3"})(["padding-right:16px;"]),H=Object(d.e)(l.a).withConfig({displayName:"AccountDepositAddress__Container",componentId:"sc-47rcnz-4"})(["max-width:100%;position:relative;overflow-x:hidden;"]),X=Object(d.e)(l.a).withConfig({displayName:"AccountDepositAddress__BlockingMessage",componentId:"sc-47rcnz-5"})(["position:absolute;top:0;left:0;bottom:0;right:0;justify-content:center;border-bottom-left-radius:",";border-bottom-right-radius:",";background:",";"],e=>e.theme.border.borderRadius,e=>e.theme.border.borderRadius,e=>e.theme.color.background),Y=Object(d.e)(l.a).withConfig({displayName:"AccountDepositAddress__Wrapper",componentId:"sc-47rcnz-6"})(["text-align:center;max-width:340px;"]),Z=Object(d.e)(S.a).withConfig({displayName:"AccountDepositAddress__WarningTitle",componentId:"sc-47rcnz-7"})(["margin-top:24px;margin-bottom:12px;"]),K=Object(d.e)(S.a).withConfig({displayName:"AccountDepositAddress__WarningText",componentId:"sc-47rcnz-8"})(["margin-bottom:24px;"]),$=Object(d.e)(l.a).withConfig({displayName:"AccountDepositAddress__QrCodesWrapper",componentId:"sc-47rcnz-9"})(["width:100%;padding:"," 0 "," 0;background-color:",";margin-bottom:",";border-bottom:",";"],e=>e.theme.size.enormous,e=>e.theme.size.enormous,e=>e.theme.color.accessoryBackground,e=>e.theme.size.huge,e=>e.theme.border.border),J=Object(d.e)(l.a).withConfig({displayName:"AccountDepositAddress__QrCodesSlider",componentId:"sc-47rcnz-10"})(["width:100%;transform:translateX(",");transition:transform 0.4s;"],e=>Object(k.a)(e.transform)),ee=Object(d.e)(l.a).attrs(()=>({justify:"center"})).withConfig({displayName:"AccountDepositAddress__QRCodeContainer",componentId:"sc-47rcnz-11"})(["position:relative;flex-shrink:0;width:60%;pointer-events:none;"]),te=d.e.div.withConfig({displayName:"AccountDepositAddress__QrTouchArea",componentId:"sc-47rcnz-12"})(["background-color:white;position:relative;pointer-events:all;border:",";padding:",";box-shadow:",";border-radius:",";cursor:pointer;&:before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-color:",";opacity:",";transition:opacity 0.25s;}"],e=>e.theme.border.border,e=>e.theme.size.large,e=>e.theme.boxShadow.default,e=>e.theme.border.radius,e=>e.theme.color.background,e=>Object(k.a)(e.opacity)),ae=Object(d.e)(S.a).attrs(()=>({color:"slateDark",size:"medium"})).withConfig({displayName:"AccountDepositAddress__QrCodeLabel",componentId:"sc-47rcnz-13"})(["text-align:center;width:100%;margin-top:",";"],e=>e.theme.size.large),ie=Object(d.e)(l.a).withConfig({displayName:"AccountDepositAddress__AddressContainer",componentId:"sc-47rcnz-14"})(["width:100%;max-width:100%;border:",";border-radius:",";background:",";"],e=>e.theme.border.border,e=>e.theme.border.borderRadius,e=>e.theme.color.accessoryBackground),oe=Object(d.e)(l.a).withConfig({displayName:"AccountDepositAddress__AddressTextContainer",componentId:"sc-47rcnz-15"})(["padding:16px;white-space:nowrap;overflow-x:scroll;font-family:",";font-weight:",";color:",";&::-webkit-scrollbar{width:0px;height:0px;background:transparent;}"],e=>e.theme.fontFamily.monospace,e=>e.theme.fontWeight.medium,e=>e.theme.color.text),ne=Object(d.e)(l.a).withConfig({displayName:"AccountDepositAddress__IconContainer",componentId:"sc-47rcnz-16"})(["margin-left:auto;padding:0 14px;border-left:",";border-top-right-radius:",";border-bottom-right-radius:",";background:",";"],e=>e.theme.border.border,e=>e.theme.border.borderRadius,e=>e.theme.border.borderRadius,e=>e.theme.color.background),re=Object(d.e)(l.a).withConfig({displayName:"AccountDepositAddress__Notice",componentId:"sc-47rcnz-17"})(["margin-top:24px;text-align:center;"]),se=d.e.img.withConfig({displayName:"AccountDepositAddress__WarningImage",componentId:"sc-47rcnz-18"})(["height:100px;"]);var ce=Object(o.memo)(L),de=a("aAPW"),le=a("1L0a");var ue=({account:e,accounts:t,closeModal:a})=>{var i;const n=Object(de.a)({account:e,accounts:t,closeModal:a}),{id:r}=e,{accounts:s,clearServerError:c,activeAccount:d,amount:l,showServerError:u,setLoading:b,setStep:p}=n,[m,f]=Object(o.useState)("account"),g=(null===(i=n.activeAccount)||void 0===i?void 0:i.balance.amount)||"0",h=Object(o.useMemo)(()=>s.filter(e=>e.id!==r&&"collateral"!==e.type&&parseFloat(e.balance.amount)>0&&!e.isVault),[s,r]),O=Object(o.useCallback)(async()=>{c(),b(!0);try{await le.b.post(`/v2/accounts/${null===d||void 0===d?void 0:d.id}/transactions`,{type:"transfer",to:r,amount:l,currency:e.currency.code}),p("success")}catch(t){u(t),Bugsnag.notify("VaultDepositModalStore failed submit form",{metaData:{apiError:t}})}b(!1)},[c,r,d,l,e,u,b,p]);return Object.assign({},n,{mode:"transferToVault",account:e,activeTab:m,changeTab:f,maxAmount:g,availableAccounts:h,submitForm:O})};const be=Object(r.c)({headerTitle:{id:"VaultDepositModal.1234567.headerTitle",defaultMessage:"Transfer into {accountName}"},dismissErrorBanner:{id:"VaultDepositModal.1234567.dismissErrorBanner",defaultMessage:"Dismiss"},accountTab:{id:"VaultDepositModal.1234567.accountTab",defaultMessage:"From Account"},addressTab:{id:"VaultDepositModal.1234567.addressTab",defaultMessage:"{currencyName} Address"}}),pe=()=>null,me=({account:e,close:t})=>{const a=Object(h.b)(),r=ue({account:e,accounts:a,closeModal:t}),d=Object(c.a)(j.a.detailShape()),{activeAccount:l,changeTab:f,activeTab:w,serverError:C,clearServerError:M,step:S,closeModal:k}=r;Object(o.useEffect)(()=>{l||f("address")},[]);const{currency:T,type:I}=e,{formatMessage:A}=Object(s.a)(),[D,_]=Object(o.useState)(void 0),[N,x]=Object(o.useState)(!1),W=Object(O.a)(T.code)?T.name:T.code;return Object(o.useEffect)(()=>{if(!e.allowDeposit)return void t();const{promise:a,cancel:i}=Object(u.a)(d({id:e.id}));return a.then(e=>{_(e.data)}).catch(()=>{x(!0)}),()=>i()},[]),n.a.createElement(n.a.Fragment,null,Object(i.a)(g.b,{selectedValue:w,onChange:f},void 0,!!l&&Object(i.a)(g.a,{value:"account",label:A(be.accountTab)},void 0,!!C&&Object(i.a)(b.a,{inline:!0,subtitle:C,type:"error",onClickPrimary:M,primaryLabel:A(be.dismissErrorBanner)}),Object(i.a)(m.b,{},void 0,"form"===S?Object(i.a)(v.a,{store:r}):Object(i.a)(y.a,{handleClose:k}))),!N&&Object(i.a)(g.a,{value:"address",label:A(be.addressTab,{currencyName:W})},void 0,D?Object(i.a)(ce,{address:D,currency:T,type:I}):Object(i.a)(m.b,{},void 0,Object(i.a)(ge,{align:"center",justify:"center"},void 0,Object(i.a)(p.a,{}))))),Object(i.a)(pe,{state:r}))};function fe({account:e,close:t}){const{name:a}=e,{formatMessage:o}=Object(s.a)();return Object(i.a)(m.a,{close:t},void 0,Object(i.a)(m.d,{title:o(be.headerTitle,{accountName:a})}),Object(i.a)(f.a,{boundaryName:"AvailableBalance"},void 0,Object(i.a)(me,{account:e,close:t})))}const ge=Object(d.e)(l.a).withConfig({displayName:"VaultDepositModal__DepositAddressLoader",componentId:"lt1cpk-0"})(["min-height:315px;"]);t.default=Object(o.memo)(fe)},iNCe:function(e,t,a){"use strict";var i=a("5n0U"),o=a("mXGw"),n=a("hWgQ"),r=a("gN02"),s=a("J6vy");const c=Object(n.c)({gbpDepositDelayNote:{id:"WireShared.CompletionMessage.gbpDepositDelayNote",defaultMessage:"Once your transfer is received and matched to your account, your account will be credited. This can take up to 3 business days."},gbpCompletionMaskHeading:{id:"WireShared.CompletionMessage.gbpCompletionMaskHeading",defaultMessage:"We're waiting on your transfer"}}),d=({hideCompletionMask:e})=>{const{formatMessage:t}=Object(r.a)();return Object(i.a)(s.a,{hide:e,title:t(c.gbpCompletionMaskHeading),subtitle:t(c.gbpDepositDelayNote)})};var l=Object(o.memo)(d);t.a=l},qqgn:function(e,t,a){"use strict";a.d(t,"a",(function(){return w})),a.d(t,"b",(function(){return j}));var i=a("5n0U"),o=a("mXGw"),n=a.n(o),r=a("Y0sT"),s=a("hWgQ"),c=a("gN02"),d=a("SPtF"),l=a("/PpR"),u=a("iiUS"),b=a("MH3X"),p=a("6Ms/"),m=a("pW8h"),f=a("fpjO"),g=a("GBHF");const h=Object(s.c)({noDepositMethodsTitle:{id:"DepositFiatModal.noDepositMethodsTitle",defaultMessage:"You can't add cash to this account."},noDepositMethodsMessage:{id:"DepositFiatModal.noDepositMethodsMessage",defaultMessage:"You don't have any methods enabled to add cash."}}),O=({account:e,close:t})=>{const{formatMessage:a}=Object(c.a)(),[{data:o},n]=Object(l.a)(t=>t(d.a)(f.a.detailShape(),{accountId:e.id}),e=>e(m.a)({type:"deposits"}));return Object(i.a)(u.VStack,{flexGrow:1,flexShrink:1,flexBasis:"auto"},void 0,Object(i.a)(p.a.Provider,{value:"deposit"},void 0,((null===n||void 0===n?void 0:n.length)||0)>0?(()=>{const e=n[0];return Object(i.a)(b.a,{title:e.message,description:e.description,policyRestriction:e,transferType:"deposits"})})():(()=>{if(!(o.depositsAllowed&&o.availableDepositMethods.length>0))return Object(i.a)(b.a,{title:a(h.noDepositMethodsTitle),description:a(h.noDepositMethodsMessage)});if(o.availableDepositMethods.length>0){const a=o.availableDepositMethods[0];return a?Object(i.a)(g.b,{depositMethodType:a.type,depositMethod:a,depositCurrency:o.depositCurrency,close:t,account:e}):null}})()))};var j=Object(o.memo)(O);const v=Object(o.lazy)(()=>a.e(18).then(a.bind(null,"3he+"))),y=()=>null,w=e=>Object(i.a)(r.a,{name:"DepositModal",fallback:null,errorFallback:y},void 0,n.a.createElement(v,Object.assign({},e)))},xw2k:function(e,t,a){"use strict";a.r(t),a.d(t,"DepositMethod",(function(){return yt}));var i=a("5n0U"),o=a("mXGw"),n=a.n(o),r=a("QLaP"),s=a.n(r),c=a("GcVA"),d=a("1YZV"),l=a("MH3X"),u=a("Dhcx"),b=a("fpjO"),p=a("KPBO"),m=a("KyOl"),f=a("FMaI"),g=a("NZci"),h=a("KqNE"),O=a("hWgQ"),j=a("gN02"),v=a("UutA"),y=a("mm7T"),w=a("5ezY"),C=a("iiUS"),M=a("AaJB"),S=a("ZezI"),k=a("FGPO"),T=a("c4/n"),I=a("l8SF");const A=Object(O.c)({continue:{id:"WireTransferInstructions.ReferenceStep.continue",defaultMessage:"Continue"},referenceCheckboxLabel:{id:"WireTransferInstructions.ReferenceStep.referenceCheckboxLabel",defaultMessage:"I've copied or written down my Reference Number"},referenceLabel:{id:"WireTransferInstructions.ReferenceStep.referenceLabel",defaultMessage:"Reference Number"},referenceWarningSubtitle:{id:"WireTransferInstructions.ReferenceStep.referenceWarningSubtitle",defaultMessage:"Without this code, we cannot add these funds into your Coinbase account."},referenceWarning:{id:"WireTransferInstructions.ReferenceStep.referenceWarning",defaultMessage:"Please include this reference code in your transfer"}}),D=v.e.div.withConfig({displayName:"ReferenceStep__Section",componentId:"wowjq7-0"})(["margin-bottom:",";"],I.c.huge);var _=Object(c.b)(({onNextLegacy:e,nextStep:t,wireDepositInformation:a})=>{const{formatMessage:n}=Object(j.a)(),[r,s]=Object(o.useState)(!1),c=Object(h.i)(t||""),d=(a.depositInformation.find(e=>"reference"===e.key)||{}).value;return Object(i.a)(C.VStack,{},void 0,Object(i.a)(D,{},void 0,Object(i.a)(y.a,{type:"warning",title:n(A.referenceWarning),subtitle:n(A.referenceWarningSubtitle)})),Object(i.a)(D,{},void 0,Object(i.a)(T.a,{},void 0,Object(i.a)(w.a,{weight:"demiBold"},void 0,n(A.referenceLabel))),Object(i.a)(k.a,{value:d})),Object(i.a)(D,{},void 0,Object(i.a)(S.b,{checked:r,label:Object(i.a)(w.a,{},void 0,n(A.referenceCheckboxLabel)),labelPosition:"right",onCheckToggle:()=>s(!0)})),Object(i.a)(M.a,{size:"large",disabled:!r,onClick:()=>{e&&t?e(t):t&&c()}},void 0,n(A.continue)))});var N=Object(c.b)((function({requirement:e,wireDepositInformation:t,close:a}){const o=e?"requirement":"reference";return Object(i.a)(h.d,{defaultStep:o},void 0,Object(i.a)(g.a,{stepName:"requirement",requirement:e,nextStep:"reference"}),Object(i.a)(_,{stepName:"reference",nextStep:"info",wireDepositInformation:t}),Object(i.a)(f.a,{stepName:"info",type:"swift",nextStep:"confirmation"}),Object(i.a)(m.a,{stepName:"confirmation",onClick:a}))})),x=a("URTx"),W=a("DDg1"),E=a("4gc5"),z=a("TDwA"),B=a("K/G0");var P=Object(c.b)(({store:e,wireDepositInformation:t})=>{const a=t.depositInformation;return Object(i.a)(x.a,{bankType:{type:"uk",bankDepositMethod:"uk_bank_account"},depositInformation:a,onNext:e.close||void 0})}),R=a("q1fp"),F=a("1gFA"),U=a("uXV4"),L=a("283V"),V=a("QMI5"),q=a("xRJQ"),G=a("wngC"),Q=a("lQKN"),H=a("ZqYi"),X=a("KAoR");const Y=Object(O.c)({continue:{id:"WireTransferInstructions.CompatabilityStep.continue",defaultMessage:"Continue"},currencyLabel:{id:"WireTransferInstructions.CompatabilityStep.currencyLabel",defaultMessage:"Currency"},wireTransferAmountLabel:{id:"WireTransferInstructions.CompatabilityStep.wireTransferAmountLabel",defaultMessage:"Wire transfer amount"},SEPATransferAmountLabel:{id:"WireTransferInstructions.CompatabilityStep.SEPATransferAmountLabel",defaultMessage:"SEPA transfer amount"},fullNameLabel:{id:"WireTransferInstructions.CompatabilityStep.fullNameLabel",defaultMessage:"Name on account"},nameOfBankLabel:{id:"WireTransferInstructions.CompatabilityStep.nameOfBankLabel",defaultMessage:"Name of bank"},fieldRequired:{id:"WireTransferInstructions.CompatabilityStep.fieldRequired",defaultMessage:"This field is required."},numeric:{id:"WireTransferInstructions.CompatabilityStep.numeric",defaultMessage:"This field must be a number."},amountRequired:{id:"WireTransferInstructions.CompatabilityStep.amountRequired",defaultMessage:"Amount is required."},nameMustMatchCBFullName:{id:"WireTransferInstructions.CompatabilityStep.nameMustMatchCBFullName",defaultMessage:"We can only accept transfers from {name}"},minWireTransferSize:{id:"WireTransferInstructions.CompatabilityStep.minWireTransferSize",defaultMessage:"Cannot accept wires under $5,000."},maxWireTransferSize:{id:"WireTransferInstructions.CompatabilityStep.maxWireTransferSize",defaultMessage:"Cannot transfer more than $250,000."},maxSEPATransferSize:{id:"WireTransferInstructions.CompatabilityStep.maxSEPATransferSize",defaultMessage:"Cannot transfer more than \u20ac250,000."},bankNameNotSupported:{id:"WireTransferInstructions.CompatabilityStep.bankNameNotSupported",defaultMessage:"This bank is not supported"},wireCurrencyMustBeUSD:{id:"WireTransferInstructions.CompatabilityStep.wireCurrencyMustBeUSD",defaultMessage:"Wires must be in USD"},SEPACurrencyMustBeEUR:{id:"WireTransferInstructions.CompatabilityStep.SEPACurrencyMustBeEUR",defaultMessage:"SEPA must be in EUR"},bankNamePlaceholder:{id:"WireTransferInstructions.CompatabilityStep.bankNamePlaceholder",defaultMessage:"Enter your bank name"},fullNamePlaceholder:{id:"WireTransferInstructions.CompatabilityStep.fullNamePlaceholder",defaultMessage:"Full name"}}),Z=v.e.div.withConfig({displayName:"CompatibilityStep__Section",componentId:"sc-17lv1nc-0"})(["margin-bottom:",";"],I.c.huge),K=v.e.div.withConfig({displayName:"CompatibilityStep__Left",componentId:"sc-17lv1nc-1"})(["flex:0 0 50%;padding-right:8px;"]),$=v.e.div.withConfig({displayName:"CompatibilityStep__Right",componentId:"sc-17lv1nc-2"})(["flex:0 0 50%;padding-left:8px;"]);var J=Object(c.b)(({store:e,wireDepositInformation:t})=>{const{formatMessage:a}=Object(j.a)(),o=Object(E.a)(),n="sepa"===t.type,r=[[R.a,a(Y.amountRequired)],[F.a,a(Y.numeric)],[Object(U.a)(25e4),a(n?Y.maxSEPATransferSize:Y.maxWireTransferSize)]];return n||r.push([Object(L.a)(5e3),a(Y.minWireTransferSize)]),Object(i.a)(C.VStack,{},void 0,Object(i.a)(H.b,{onSubmit:e.onSubmitWireTransferCompatability,onValid:e.setIsWireTransferCompatabile,onInvalid:e.setIsNotWireTransferCompatabile,onChange:e.onChangeWireTransferCompatability,initialValues:{bankName:"",fullName:"",amount:"",currency:n?"EUR":"USD"}},void 0,Object(i.a)(Z,{},void 0,Object(i.a)(T.a,{},void 0,a(Y.nameOfBankLabel)),Object(i.a)(X.a,{name:"bankName",validateOnBlur:!0,autoFocus:!0,placeholder:a(Y.bankNamePlaceholder),validators:[[R.a,a(Y.fieldRequired)],[e=>!new RegExp(`^(${t.bankBlacklist.join("|")})$`,"i").test(e),a(Y.bankNameNotSupported)]]})),Object(i.a)(Z,{},void 0,Object(i.a)(T.a,{},void 0,a(Y.fullNameLabel)),Object(i.a)(X.a,{name:"fullName",validateOnBlur:!0,size:6,placeholder:a(Y.fullNamePlaceholder),validators:[[R.a,a(Y.fieldRequired)],[Object(V.a)(o.name,{ignoreCase:!0}),a(Y.nameMustMatchCBFullName,{name:o.name})]]})),Object(i.a)(Z,{},void 0,Object(i.a)(G.Box,{flexWrap:"wrap"},void 0,Object(i.a)(K,{},void 0,Object(i.a)(T.a,{},void 0,a(n?Y.SEPATransferAmountLabel:Y.wireTransferAmountLabel)),Object(i.a)(X.a,{name:"amount",validateOnBlur:!0,size:6,maxLength:11,placeholder:"0.00",validators:r,onValid:e.setAmountValid,onInvalid:e.setAmountInvalid})),Object(i.a)($,{},void 0,Object(i.a)(T.a,{},void 0,a(Y.currencyLabel)),Object(i.a)(Q.a,{value:e.currency,name:"currency",validators:[[n?Object(q.a)(new RegExp("^EUR$")):Object(q.a)(new RegExp("^USD$")),a(n?Y.SEPACurrencyMustBeEUR:Y.wireCurrencyMustBeUSD)]]})))),Object(i.a)(M.a,{fullWidth:!0,size:"large",disabled:!e.isWireTransferCompatabile},void 0,a(Y.continue))))}),ee=a("WI56"),te=a("KuUO"),ae=a("x1dm"),ie=a("ROha"),oe=a("iNCe");const ne=Object(O.c)({dismissalLinkText:{id:"WireTransferInstructions.ReviewStep.dismissalLinkText",defaultMessage:"I'll do this later"},wireCompletionButtonLabel:{id:"WireTransferInstructions.ReviewStep.wireCompletionButtonLabel",defaultMessage:"I've sent the funds"}}),re=v.e.div.withConfig({displayName:"ReviewStepContent__Section",componentId:"sc-4y97nx-0"})(["margin-bottom:",";"],I.c.huge),se=v.e.div.withConfig({displayName:"ReviewStepContent__ReviewContainer",componentId:"sc-4y97nx-1"})(["position:relative;"]),ce=({type:e,depositInformation:t,prompt:a,limits:o,amount:n,currency:r,hideRecipientTitle:s,onClickComplete:c,onClickCancel:d})=>{const{formatMessage:l}=Object(j.a)(),{isToggled:u,toggleOff:b,toggleOn:p}=Object(te.a)(!1);return Object(i.a)(se,{},void 0,a&&Object(i.a)(re,{},void 0,Object(i.a)(w.a,{},void 0,a)),u&&Object(i.a)(oe.a,{hideCompletionMask:b}),Object(i.a)(re,{},void 0,Object(i.a)(ae.a,{amount:n,depositInformation:t,limits:o,depositCurrency:r,showRecipientTitle:!s,type:e})),Object(i.a)(re,{},void 0,Object(i.a)(M.a,{fullWidth:!0,size:"large",onClick:null!=c?c:p},void 0,l(ne.wireCompletionButtonLabel))),Object(i.a)(ee.a,{justify:"center"},void 0,Object(i.a)(ie.a,{onClick:d},void 0,Object(i.a)(w.a,{color:"inherit"},void 0,l(ne.dismissalLinkText)))))};var de=Object(o.memo)(ce);const le=Object(O.c)({ukBankHeading:{id:"WireTransferInstructions.ReviewStep.ukBankHeading",defaultMessage:"To add cash into your GBP wallet, please initiate a GBP transfer from your bank to the following account."}});var ue,be,pe,me,fe,ge,he,Oe,je,ve,ye,we,Ce,Me,Se,ke,Te,Ie,Ae,De,_e,Ne,xe,We,Ee=Object(c.b)(({store:e,wireDepositInformation:t})=>{const{formatMessage:a}=Object(j.a)();return Object(i.a)(de,{type:t.type,depositInformation:t.depositInformation,limits:t.limits,onClickCancel:e.close,amount:e.amount,currency:e.currency,prompt:"uk_bank_account"===t.type&&a(le.ukBankHeading)})}),ze=a("AmAS"),Be=a("tB06"),Pe=(a("N3FF"),a("cneo"));var Re=(ue=class{get nextStep(){switch(this.step){case"compatibility":return"reference";case"reference":return"review";case"review":case"barclays-review":return;default:Bugsnag.notify("Unknown step "+this.step)}}constructor({firstStep:e,close:t,wireDepositInformation:a}){this.close=void 0,this.wireDepositInformation=void 0,Object(ze.a)(this,"step",be,this),Object(ze.a)(this,"currency",pe,this),Object(ze.a)(this,"bankName",me,this),Object(ze.a)(this,"fullName",fe,this),Object(ze.a)(this,"amount",ge,this),Object(ze.a)(this,"isWireTransferCompatabile",he,this),Object(ze.a)(this,"referenceCopied",Oe,this),Object(ze.a)(this,"nameMatches",je,this),Object(ze.a)(this,"maskOpen",ve,this),Object(ze.a)(this,"completionMaskVisible",ye,this),Object(ze.a)(this,"amountValid",we,this),Object(ze.a)(this,"setAmountValid",Ce,this),Object(ze.a)(this,"setAmountInvalid",Me,this),Object(ze.a)(this,"toggleReferenceCopied",Se,this),Object(ze.a)(this,"toggleNameMatches",ke,this),Object(ze.a)(this,"setStep",Te,this),Object(ze.a)(this,"showCompletionMask",Ie,this),Object(ze.a)(this,"hideCompletionMask",Ae,this),Object(ze.a)(this,"setAmount",De,this),Object(ze.a)(this,"setIsWireTransferCompatabile",_e,this),Object(ze.a)(this,"setIsNotWireTransferCompatabile",Ne,this),Object(ze.a)(this,"onSubmitWireTransferCompatability",xe,this),Object(ze.a)(this,"onChangeWireTransferCompatability",We,this),this.step=e,this.close=t,this.wireDepositInformation=a}},be=Object(Be.a)(ue.prototype,"step",[Pe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=Object(Be.a)(ue.prototype,"currency",[Pe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=Object(Be.a)(ue.prototype,"bankName",[Pe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=Object(Be.a)(ue.prototype,"fullName",[Pe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=Object(Be.a)(ue.prototype,"amount",[Pe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=Object(Be.a)(ue.prototype,"isWireTransferCompatabile",[Pe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Oe=Object(Be.a)(ue.prototype,"referenceCopied",[Pe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),je=Object(Be.a)(ue.prototype,"nameMatches",[Pe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ve=Object(Be.a)(ue.prototype,"maskOpen",[Pe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ye=Object(Be.a)(ue.prototype,"completionMaskVisible",[Pe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),we=Object(Be.a)(ue.prototype,"amountValid",[Pe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ce=Object(Be.a)(ue.prototype,"setAmountValid",[Pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>this.amountValid=!0}}),Me=Object(Be.a)(ue.prototype,"setAmountInvalid",[Pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>this.amountValid=!1}}),Se=Object(Be.a)(ue.prototype,"toggleReferenceCopied",[Pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>this.referenceCopied=!this.referenceCopied}}),ke=Object(Be.a)(ue.prototype,"toggleNameMatches",[Pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>this.nameMatches=!this.nameMatches}}),Te=Object(Be.a)(ue.prototype,"setStep",[Pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.step=e}}}),Ie=Object(Be.a)(ue.prototype,"showCompletionMask",[Pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>this.completionMaskVisible=!0}}),Ae=Object(Be.a)(ue.prototype,"hideCompletionMask",[Pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>this.completionMaskVisible=!1}}),De=Object(Be.a)(ue.prototype,"setAmount",[Pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.amount=e}}),_e=Object(Be.a)(ue.prototype,"setIsWireTransferCompatabile",[Pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>this.isWireTransferCompatabile=!0}}),Ne=Object(Be.a)(ue.prototype,"setIsNotWireTransferCompatabile",[Pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>this.isWireTransferCompatabile=!1}}),xe=Object(Be.a)(ue.prototype,"onSubmitWireTransferCompatability",[Pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{this.setStep("reference")}}}),Object(Be.a)(ue.prototype,"nextStep",[Pe.e],Object.getOwnPropertyDescriptor(ue.prototype,"nextStep"),ue.prototype),We=Object(Be.a)(ue.prototype,"onChangeWireTransferCompatability",[Pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>Object(Pe.o)(this,e)}}),ue);class Fe extends n.a.Component{UNSAFE_componentWillMount(){const{skipCompatibility:e,close:t,wireDepositInformation:a}=this.props;this.store=new Re({firstStep:e?"reference":"compatibility",close:t,wireDepositInformation:a})}componentDidMount(){B.a.track("deposit_bankwire_form_viewed",{action:z.ActionType.render,componentType:z.ComponentType.page,loggingId:"37fb685f-b993-44c4-9340-4d2f859bd2f9"})}render(){switch(this.store.step){case"compatibility":return Object(i.a)(J,{store:this.store,wireDepositInformation:this.props.wireDepositInformation});case"reference":return Object(i.a)(_,{onNextLegacy:this.store.setStep,nextStep:this.store.nextStep,wireDepositInformation:this.props.wireDepositInformation,stepName:"reference"});case"review":return n.a.createElement(Ee,Object.assign({store:this.store},this.props));case"barclays-review":return n.a.createElement(P,Object.assign({store:this.store},this.props));default:return Bugsnag.notify("Unrecognized step "+this.store.step),null}}}var Ue=Object(c.b)(Fe);const Le=({wireDepositInformation:e,close:t,depositCurrency:a,bankDepositMethod:o})=>{const{depositInformation:n}=e,{isInEurope:r,businessBanking:s}=Object(E.a)();return Object(W.a)("mar_2021_web_virtual_accounts_eu_uk","treatment",{skipTracking:!r})||s?Object(i.a)(x.a,{bankType:{type:"uk",bankDepositMethod:o},depositInformation:n}):Object(i.a)(Ue,{close:t,depositCurrency:a,skipCompatibility:"uk_bank_account"===o,wireDepositInformation:e})};var Ve=Object(o.memo)(Le);function qe(e,t){const a=Object(d.a)(b.a.createVirtualAccountNumberRequest());Object(o.useEffect)(()=>{try{e.find(e=>"account_number"===e.key).value||(async()=>{await a({accountId:t.id,virtualAccountType:"zengin"},{})})()}catch(i){Bugsnag.notify(i,{metaData:{accountId:t.id,virtualAccountType:"zengin"}})}},[])}const Ge=Object(O.c)({help:{id:"ZenginDeposit.help",defaultMessage:"Need help?"},deposit:{id:"ZenginDeposit.deposit",defaultMessage:"Add your funds to the account below."}}),Qe=({wireDepositInformation:e,account:t})=>{const{formatMessage:a}=Object(j.a)(),{depositInformation:o}=e;return qe(o,t),Object(i.a)("div",{},void 0,a(Ge.deposit),Object(i.a)(x.a,{depositInformation:o,bankType:{type:"zengin"}}),Object(i.a)(He,{},void 0,Object(i.a)(ie.a,{href:"https://help.coinbase.com/",color:"accent",weight:"demiBold"},void 0,a(Ge.help))))},He=v.e.div.withConfig({displayName:"ZenginDeposit__HelpSection",componentId:"sc-1haebmj-0"})(["text-align:center;background:",";width:100%;padding-bottom:24px;"],e=>e.theme.color.accessoryBackground);var Xe=Object(o.memo)(Qe),Ye=a("7IP4"),Ze=a.n(Ye),Ke=a("uUYl"),$e=a("3jl0"),Je=a("FGnu"),et=a("da0S"),tt=a("a8M+"),at=a("Bc3v"),it=a("Kij7"),ot=a("U67b"),nt=a("yGf2"),rt=a("tU0a");function st({store:e}){const t=Object(o.useCallback)(t=>{e.submitForm({paypal_correlation_id:t})},[e]),a=Object(rt.a)({payPalPaymentMethod:e.activePaymentMethod,onSubmit:t,onSignInComplete:e.createAndSetPaymentMethod,onError:e.showServerError});return Object(i.a)(at.a,{store:e,onSubmit:a})}const ct=Object(O.c)({dismissErrorBanner:{id:"AchDepositForm.dismissErrorBanner",defaultMessage:"Dismiss"}});let dt;!function(e){e.Form="form",e.Confirm="confirm",e.Success="success",e.Failed="failed",e.WBL="wbl"}(dt||(dt={}));var lt=a("OKDF"),ut=a("4Id/"),bt=a("avPW"),pt=a("9/Bj"),mt=a("TjCA"),ft=a("JvuD");const gt=["GB","DE","FR","ES","IT","IE"];var ht=function({account:e,paymentMethods:t,closeModal:a,suggestedAmount:i,onSuccess:n}){var r,c,d,l,u,b,p,m,f,g;const h="deposit",{countryCode:O,isInUS:j}=Object(E.a)(),v=Object(o.useMemo)(()=>gt.includes(O||""),[O]),y=Object(W.a)("aug_2021_paypal_payin_eu","treatment",{skipTracking:!v}),w=Object(lt.a)(),C=Object(bt.a)(),M=Object(o.useRef)(void 0),[S,k]=Object(o.useState)({error:void 0,serverError:void 0,serverErrorId:void 0,loading:!1,submitEnabled:void 0!==i,step:"form",amount:void 0===i?"":String(i),activePaymentMethodId:"",transfer:void 0}),{error:T,serverError:I,serverErrorId:A,loading:D,submitEnabled:_,step:N,amount:x,activePaymentMethodId:P,transfer:R}=S,F=Object(ut.a)(),U=Object(o.useMemo)(()=>{const e=["ach_bank_account"];return j&&e.push("paypal_account"),v&&y&&e.push("paypal_account"),e},[j,v,y]),L=Object(o.useMemo)(()=>t.filter(e=>U.includes(e.type)&&e.verified),[t,U]),V=Object(o.useMemo)(()=>t.filter(e=>U.includes(e.type)),[t,U]),q=Object(o.useCallback)(async()=>{await w(),n&&n()},[w,n]),G=Object(o.useCallback)(()=>{k(e=>Object.assign({},e,{submitEnabled:!0}))},[]),Q=Object(o.useCallback)(()=>{k(e=>Object.assign({},e,{submitEnabled:!1}))},[]),H=Object(o.useCallback)(e=>{k(t=>Object.assign({},t,{serverErrorId:e.id,serverError:e.message}))},[]),X=Object(o.useCallback)(()=>{k(e=>Object.assign({},e,{serverErrorId:void 0,serverError:void 0}))},[]),Y=Object(o.useCallback)(()=>{k(e=>Object.assign({},e,{step:"form"}))},[]),Z=L.find(e=>e.id===P)||L[0],K=Object(o.useCallback)(e=>{X(),k(t=>Object.assign({},t,{activePaymentMethodId:e}))},[X]),$=Object(o.useCallback)(async t=>{await F({transferType:h,accountUuid:e.id}),t&&K(t.id)},[e.id,F,K]),J=Object(o.useCallback)(()=>{if(B.a.track("threatmetrix_profiling_started",{action:z.ActionType.render,componentType:z.ComponentType.page,loggingId:"849e2797-f017-48ca-bae5-23358a46338d",entry:"deposit"}),!M.current){const e=Object(ft.a)();e&&(M.current=e,B.a.track("threatmetrix_profiling_finished",{action:z.ActionType.render,componentType:z.ComponentType.page,loggingId:"bbef422b-7bab-4c79-ba17-591f66137ce4",entry:"deposit",sessionId:e}))}},[]),ee=(null===Z||void 0===Z||null===(r=Z.limits)||void 0===r||null===(c=r.deposit)||void 0===c||null===(d=c[0])||void 0===d||null===(l=d.remaining)||void 0===l?void 0:l.currency)||"",te=(null===Z||void 0===Z||null===(u=Z.limits)||void 0===u||null===(b=u.deposit)||void 0===b||null===(p=b[0])||void 0===p||null===(m=p.remaining)||void 0===m?void 0:m.amount)||"0",ae=Object(o.useCallback)(()=>{var e,t;Boolean((null===R||void 0===R||null===(e=R.wblUxData)||void 0===e?void 0:e.title)&&(null===R||void 0===R||null===(t=R.wblUxData)||void 0===t?void 0:t.description))?k(e=>Object.assign({},e,{step:dt.WBL})):a()},[a,null===R||void 0===R||null===(f=R.wblUxData)||void 0===f?void 0:f.description,null===R||void 0===R||null===(g=R.wblUxData)||void 0===g?void 0:g.title]),ie=Object(o.useCallback)(async()=>{if(X(),_){k(e=>Object.assign({},e,{loading:!0}));try{const t=await mt.a.create(e.id,{amount:x,currency:e.currency.code,payment_method:Z.id});k(e=>Object.assign({},e,{transfer:t})),J()}catch(t){H(t)}k(e=>Object.assign({},e,{loading:!1}))}},[e.currency.code,e.id,null===Z||void 0===Z?void 0:Z.id,x,X,_,H,J]),oe=Object(pt.a)(ie,250),ne=Object(o.useCallback)(e=>{k(t=>Object.assign({},t,{amount:e}))},[]),re=Object(o.useCallback)(async e=>{X();try{k(e=>Object.assign({},e,{loading:!0}));const t=await C(e);t&&K(t.id)}catch(t){return H(t),Promise.reject(t)}finally{k(e=>Object.assign({},e,{loading:!1}))}},[X,C,K,H]),se=Object(o.useCallback)(async t=>{X(),k(e=>Object.assign({},e,{loading:!0}));try{const a=await mt.a.create(e.id,Object.assign({amount:x,currency:e.currency.code,payment_method:Z.id},t));k(e=>Object.assign({},e,{transfer:a,step:dt.Confirm}))}catch(a){H(a)}k(e=>Object.assign({},e,{loading:!1}))},[e.currency.code,e.id,null===Z||void 0===Z?void 0:Z.id,x,X,H]),ce=Object(o.useCallback)(async()=>{X(),k(e=>Object.assign({},e,{loading:!0}));try{s()(R,"OnlineDepositFormStore will not be null in confirm");const e=await mt.a.commit(R.resourcePath,M.current);setTimeout(q,2e3),k(t=>Object.assign({},t,{transfer:e,step:dt.Success}))}catch(e){k(t=>Object.assign({},t,{error:e,step:dt.Failed}))}k(e=>Object.assign({},e,{loading:!1}))},[X,q,R]);return Object(o.useEffect)(()=>{oe()},[x,_]),Object(o.useMemo)(()=>({mode:h,error:T,serverError:I,serverErrorId:A,loading:D,step:N,amount:x,activePaymentMethod:Z,transfer:R,availablePendingPaymentMethods:V,submitEnabled:_,paymentMethods:L,markValid:G,markInvalid:Q,setAmount:ne,showServerError:H,clearServerError:X,cancel:Y,setActivePaymentMethodWithId:K,refreshPaymentMethods:$,limitCurrency:ee,maxAmount:te,closeTransferSuccess:ae,createAndSetPaymentMethod:re,submitForm:se,confirm:ce,account:e,setState:k}),[h,T,I,A,D,N,x,Z,R,V,_,L,G,Q,ne,H,X,Y,K,$,ee,te,ae,re,se,ce,e])};const Ot=({account:e,close:t=Ze.a,suggestedAmount:a,onSuccess:n})=>{const{isInUS:r}=Object(E.a)(),s=Object(Je.b)({transferType:"deposit",accountUuid:e.id}),c=ht({account:e,paymentMethods:s,closeModal:t,suggestedAmount:a,onSuccess:n}),{formatMessage:d}=Object(j.a)(),{activePaymentMethod:l,availablePendingPaymentMethods:u,step:b,closeTransferSuccess:p,error:m,mode:f,transfer:g,serverError:h,serverErrorId:O,clearServerError:v}=c,y=null===l||void 0===l?void 0:l.type,w=Object(o.useMemo)(()=>{switch(y){case"paypal_account":return Object(i.a)(st,{store:c});case"ach_bank_account":default:return Object(i.a)(at.a,{store:c})}},[y,c]),C=Object(o.useMemo)(()=>{switch(b){case dt.Form:return w;case dt.Confirm:return r?Object(i.a)(ot.a,{store:c}):Object(i.a)(et.a,{store:c});case dt.Success:return Object(i.a)(it.a,{handleClose:p});case dt.Failed:return Object(i.a)(tt.a,{closeModal:t,error:m,mode:f});case dt.WBL:return Object(i.a)(nt.a,{transfer:g,closeModal:t});default:throw new Error("Step should be in [form, confirm, success]")}},[w,c,r,b,p,t,m,f,g]);return u.length>0&&!l?Object(i.a)($e.a,{action:"deposits",pendingPaymentMethod:u[0]}):l?Object(i.a)("div",{},void 0,!!h&&"limit_error_increase_eligible"!==O&&Object(i.a)(jt,{inline:!0,subtitle:h,type:"error",onClickPrimary:v,primaryLabel:d(ct.dismissErrorBanner)}),C):Object(i.a)($e.a,{action:"deposits"})},jt=Object(v.e)(Ke.a).withConfig({displayName:"OnlineDepositForm__StyledAlert",componentId:"sc-1rajouk-0"})(["width:auto;margin:-24px -24px 24px;"]);var vt=Object(o.memo)(Ot);const yt=({depositMethodType:e,depositMethod:t,depositCurrency:a,suggestedAmount:o,close:n,account:r,onSuccess:c})=>{const m=Object(d.a)(b.a.detailShape()),f=()=>{r&&m({accountId:r.id})};if(!t.active)return Object(i.a)(l.a,{description:t.nextRequirement.message,policyRestriction:t.nextRequirement,transferType:"deposits",onSuccess:f});switch(e){case"online_deposit_account":case"ach_bank_account":return s()(r,"Account must exist"),Object(i.a)(vt,{account:r,close:n,suggestedAmount:o,onSuccess:c});case"wire":return Object(i.a)(Ue,{close:n,depositCurrency:a,wireDepositInformation:t});case"fedwire":return Object(i.a)(p.a,{close:n,account:r,wireDepositInformation:t});case"sepa":case"uk_bank_account":return Object(i.a)(Ve,{close:n,bankDepositMethod:e,depositCurrency:a,wireDepositInformation:t});case"swift_bank_account":return Object(i.a)(N,{wireDepositInformation:t,close:n});case"qd":case"sofort":case"ideal_bank_account":return Object(i.a)(u.a,{onExit:n,bankType:e,fiatAccount:r});case"zengin_deposit":return Object(i.a)(Xe,{account:r,wireDepositInformation:t});default:return null}};t.default=Object(c.b)(yt)}}]);
//# sourceMappingURL=depositmodal-6590d68dca86f1752a09.chunk.js.map