(("undefined"!==typeof self?self:this).webpackJsonp=("undefined"!==typeof self?self:this).webpackJsonp||[]).push([[16],{"12du":function(e,t,a){"use strict";var n,o,i,c,r=a("5n0U"),l=a("+I+c"),s=a("AmAS"),d=a("tB06"),u=(a("N3FF"),a("mXGw")),b=a.n(u),p=a("cneo"),m=a("GcVA"),g=a("UutA"),f=a("IshH"),v=a("TUp2"),O=a("GII9"),j=a("e85E"),h=a("teIy"),y=a("WI56"),S=a("nPjV"),w=a("ueDn");let C=(c=i=class extends b.a.Component{constructor(...e){super(...e),Object(s.a)(this,"store",o,this)}UNSAFE_componentWillMount(){const{store:e,onChange:t}=this.props;if(e){if(t){const a=e.onChange;e.onChange=e=>{a&&a(e),t&&t(e)}}this.store=e}}UNSAFE_componentWillReceiveProps(e){this.props.store||(this.store=new v.a({validators:e.validators,onChange:e.onChange,onValid:e.onValid,onInvalid:e.onInvalid,focused:this.store.focused,dirty:this.store.dirty,validateOnBlur:e.validateOnBlur,hideInlineErrorMessages:e.hideInlineErrorMessages})),this.store.dirty&&this.store.validate(this.props.getFormValue&&this.props.getFormValue(e.name)||e.value||"")}componentWillUnmount(){Object(p.n)("set dirty false",()=>{this.store.dirty=!1})}render(){const e=this.props,{value:t,showSuccess:a,component:n,icon:o,onActionClick:i,className:c,name:s,getFormValue:d}=e,u=Object(l.a)(e,["value","showSuccess","component","icon","onActionClick","className","name","getFormValue"]),{hasErrors:p,handleChange:m,handleFocus:g,handleBlur:f,markDirty:v,showErrors:O,dirty:y,managedByForm:C}=this.store;let M;const x=d&&d(s)||t||"";a&&y&&!p&&(M=Object(r.a)(I,{},void 0,Object(r.a)(T,{}))),o&&(M=o);const E=C?Object(h.a)(v,()=>{this.store.validate(x)},g):g,{showInlineErrorMessage:B}=this.store,N=(u.id||s)+"_error";return Object(r.a)(_,{auto:!0,column:!0,className:c},void 0,b.a.createElement(b.a.Fragment,null,b.a.createElement(w.a,Object.assign({},u,{errorID:N,invalid:Boolean(N),className:c,onActionClick:Object(h.a)(v,i),value:x,showError:O,onChange:m,name:s,onFocus:()=>{E(),this.props.onFocus&&this.props.onFocus()},onBlur:Object(h.a)(f,this.props.onBlur),icon:M,component:n})),B&&Object(r.a)(k,{},void 0,Object(r.a)(j.a,{errorID:N}),Object(r.a)(S.a,{id:N,noMarginTop:!0},void 0,this.store.error))))}},i.defaultProps={validateOnBlur:!1,autoFocus:!1,showSuccess:!1,component:"input",value:""},n=c,o=Object(d.a)(n.prototype,"store",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new v.a({validators:this.props.validators,onChange:this.props.onChange,onValid:this.props.onValid,onInvalid:this.props.onInvalid,focused:this.props.autoFocus||!1,dirty:!1,validateOnBlur:this.props.validateOnBlur,hideInlineErrorMessages:this.props.hideInlineErrorMessages})}}),n);const _=Object(g.e)(y.a).withConfig({displayName:"ValidatedInput__Wrapper",componentId:"sc-1cqfzjq-0"})(["&:first-child{min-height:70px;}"]),k=Object(g.e)(y.a).withConfig({displayName:"ValidatedInput__ErrorWrapper",componentId:"sc-1cqfzjq-1"})(["align-items:center;margin-top:",";"],({theme:e})=>e.size.medium),I=Object(g.e)(y.a).withConfig({displayName:"ValidatedInput__CheckIconWrapper",componentId:"sc-1cqfzjq-2"})(["border-radius:50%;background-color:",";"],({theme:e})=>e.color.positive),T=Object(g.e)(f.a).withConfig({displayName:"ValidatedInput__CheckIcon",componentId:"sc-1cqfzjq-3"})(["fill:",";width:15px;height:15px;padding:5px;"],({theme:e})=>e.color.white);t.a=Object(O.b)(Object(m.b)(C))},"2Mpy":function(e,t,a){"use strict";var n=a("mXGw"),o=a.n(n);t.a=e=>o.a.createElement("li",Object.assign({},e))},B2aw:function(e,t,a){"use strict";a.d(t,"a",(function(){return Jo}));var n=a("5n0U"),o=a("mXGw"),i=a.n(o);var c=Object(o.createContext)({focused:void 0,setFocused:()=>{Bugsnag.notify("Attempted to access FocusContext from outside a provider")}});function r({children:e}){const[t,a]=Object(o.useState)(void 0);return Object(n.a)(c.Provider,{value:{focused:t,setFocused:a}},void 0,e)}function l(){return Object(o.useContext)(c).focused}function s(e){const{setFocused:t,focused:a}=Object(o.useContext)(c);return{onFocus:Object(o.useCallback)(()=>{t(e)},[t,e]),onBlur:Object(o.useCallback)(()=>{a===e&&t(void 0)},[t,a,e])}}var d=a("gF5a"),u=a("Yvcg"),b=a("hA+X"),p=a("SPtF"),m=a("/PpR"),g=a("pW8h"),f=a("Di00"),v=a("0p21"),O=a("BiV5"),j=a("5CTd");var h=Object(o.createContext)({loading:!1,setLoading(){Bugsnag.notify("FormLoadingContext not provided")}});function y({children:e}){const[t,a]=Object(o.useState)(!1);return Object(n.a)(h.Provider,{value:{loading:t,setLoading:a}},void 0,e)}var S=a("g6pI"),w=a("uLES");function C(){const{setLoading:e}=Object(o.useContext)(h),[t,a]=Object(S.a)(w.a);return[Object(o.useCallback)(async()=>{e(!0),await t(),e(!1)},[t,e]),a]}function _(){return Object(o.useContext)(h).loading}var k=a("7IP4"),I=a.n(k),T=a("hWgQ"),M=a("O0l7"),x=a("U0rQ"),E=a("B6gP"),B=a("uHTm"),N=a("14lz");const A=Object(T.c)({entryStep:{id:"Send.SendHeader.entryStep",defaultMessage:"{action, select, DONATE {Donate} other {Send}}"},walletUpsellStep:{id:"Send.SendHeader.walletUpsellStep",defaultMessage:"{action, select, DONATE {Donate} other {Send}}"},topUpStep:{id:"Send.SendHeader.topUpStep",defaultMessage:"You need to top up"},previewStep:{id:"Send.SendHeader.previewStep",defaultMessage:"You are {action, select, DONATE {donating} other {sending}}"},twoFactorStep:{id:"Send.SendHeader.twoFactorStep",defaultMessage:"Confirm your {action, select, DONATE {donation} other {send}}"},sendTypeStep:{id:"Send.SendHeader.sendTypeStep",defaultMessage:"Choose a send method"},giftingInterstitial:{id:"Send.SendHeader.giftingInterstitial",defaultMessage:"Send gift"},giftingEntryStep:{id:"Send.SendHeader.giftingEntryStep",defaultMessage:"Send gift"},giftingNoteStep:{id:"Send.SendHeader.giftingNoteStep",defaultMessage:"Personalize"},giftingArtCardSelectStep:{id:"Send.SendHeader.giftingArtCardSelectStep",defaultMessage:"Choose a card"},noteInfo:{id:"Send.SendHeader.noteInfoStep",defaultMessage:"Who can see my note?"},giftingPreviewStep:{id:"Send.SendHeader.giftingPreviewStep",defaultMessage:"You are gifting"},donationTitle:{id:"Send.SendHeader.donationTitle",defaultMessage:"How much do you want to donate?"}}),F=Object.assign({},A,{availableBalanceStep:B.a.availableBalanceStep,selectAccountStep:B.a.selectAccountStep});const D=["topUpStep","sendTypeStep","previewStep","availableBalanceStep","twoFactorStep","selectAccountStep","giftingInterstitial","giftingEntryStep","giftingNoteStep","giftingArtCardSelectStep","artCardInfo","noteInfo","giftingPreviewStep"],R=[...D,"entryStep","walletUpsellStep"];function P({onBack:e=I.a,title:t}){const a=function(){const{commitData:e,sendType:t,twoFactorCode:a}=Object(M.a)(w.a),{goBack:n,goToStep:i,currentStep:c,previousStep:r}=Object(b.a)(),l=Object(E.h)();return Object(o.useCallback)(()=>{"entryStep"===c||"giftingInterstitial"===c||"giftingEntryStep"===c&&"giftingInterstitial"!==r?l():"previewStep"===c?(t.onChange(void 0),i("entryStep")):"twoFactorStep"===c?(e.onChange(void 0),a.onChange(""),n()):n()},[n,l,i,c,e,t,a,r])}(),i=Object(x.a)(),{currentStep:c}=Object(b.a)(),r=Object(o.useCallback)(()=>{a(),e()},[a,e]),l=i?R:D;return Object(n.a)(N.a,{onBack:r,messages:F,navigationBarSteps:l,step:c,title:t})}var z=a("DMJL"),L=a("RMyT");function W({children:e}){const{goToStep:t,currentStep:a}=Object(b.a)(),i=Object(L.b)(d.b),{sendType:c}=Object(M.a)(w.a),r=Object(o.useCallback)(()=>{"statusStep"===a?i():t("entryStep"),c.onChange(void 0)},[t,a,i,c]);return Object(n.a)(z.b,{onClick:r},void 0,e)}var V=a("4gc5"),H=a("sQ9R"),U=a("PtKK"),G=a("v4lh"),q=a("90lv");const X="SEND";var K=a("1YZV"),Y=a("KXgG"),Q=a("OKDF"),J=a("+bmC"),Z=a("DDg1");function $(){const e=Object(K.a)(J.a.services.Sends.commitSend()),t=function(){const{goToStep:e}=Object(b.a)(),t=Object(Z.a)("aug_2021_web_send_improved_2fa","treatment");return Object(o.useCallback)((a,n,o)=>{const i=a.details||[];if(0===i.length)return n({commitError:a.message}),void e("statusStep");"two_factor_required"===i[0].id?e("twoFactorStep"):t&&"incorrect_2fa_code"===i[0].id?o({twoFactorCode:[a.message]}):(n({commitError:a.message}),e("statusStep"))},[e,t])}(),{goToStep:a}=Object(b.a)(),n=function(){const e=Object(Q.a)(),t=Object(Y.a)(),a=Object(K.a)(f.a.Accounts.getAccounts,!0);return Object(o.useCallback)(({accountId:n})=>{e(),t({uuid:n}),a({type:"SEND",pageOptions:null})},[e,t,a])}();return Object(o.useCallback)(async(o,{onChange:i,onError:c})=>{try{if(!o.sendData)return void Bugsnag.notify("Commit called without sendData");const t=await e({},{id:o.sendData.id,twoFactorToken:o.twoFactorCode,shareEmailWithRecipient:o.shareEmail});i({commitData:t,status:t.status}),a("statusStep"),n(o)}catch(r){t(r,i,c)}},[e,a,t,n])}var ee=a("zhne");var te=a("I95w"),ae=a("S/oj"),ne=a("N8wZ");function oe(){const e=Object(ne.a)(),t=Object(te.a)("SEND");return Object(o.useCallback)(a=>{var n;const o=t(a.cryptoSymbol);if(!a.activeCurrencyIsFiat)return{value:a.amount,currency:a.cryptoSymbol};return{value:e({amount:a.amount,currency:a.fiatCode},a.cryptoSymbol).toFixed(null!=(n=null===o||void 0===o?void 0:o.exponent)?n:8),currency:a.cryptoSymbol}},[e,t])}const ie=["entryStep","giftingEntryStep","tagWarningStep","sendTypeStep"];function ce(){const e=function(){const e=Object(Z.a)("aug_2021_web_send_amount_fluctuation","treatment"),t=Object(K.a)(J.a.services.Sends.createSend()),a=oe(),{currentStep:n,goToStep:i}=Object(b.a)(),c=Object(te.a)("SEND");return Object(o.useCallback)(async(o,{onChange:r,onError:l})=>{try{var s,d,u,b,p,m;const l=e&&o.activeCurrencyIsFiat,g=a(o),f=l?{value:Number(o.amount).toString(),currency:o.fiatCode}:void 0,v=Number(null===(s=o.validationData)||void 0===s||null===(d=s.amountFiat)||void 0===d?void 0:d.value)===Number(o.amount)&&(null===(u=o.validationData)||void 0===u||null===(b=u.amountFiat)||void 0===b?void 0:b.currency)===o.fiatCode,O=l&&v,j=c(o.cryptoSymbol),h=!Object(ae.a)(o.recipient),y=!!(null===j||void 0===j?void 0:j.destinationTag);let S=void 0;o.destinationTag?S=o.destinationTag:y&&!h&&(S="18716ffa5861976fbdcf7be218bba67f7f6a528f1294f32e914ff85fe67e7e84");const w=await t({},{amount:O?null===(p=o.validationData)||void 0===p?void 0:p.amountCrypto:g,amountFiat:O?f:void 0,fromAccount:{id:o.accountId},to:o.recipient,paymentMethod:null,destinationTag:S,note:o.note,giftingCardType:o.attachedCardType,sendType:o.sendType,exchangeRateCacheKey:l&&v?null===(m=o.validationData)||void 0===m?void 0:m.exchangeRateCacheKey:""});r({sendData:w,sendType:w.sendType}),o.__isPreflight||i("giftingEntryStep"===n?"giftingPreviewStep":"previewStep")}catch(g){l({__formError:[g.message]}),i("entryStep")}},[t,i,c,a,e,n])}(),t=$(),a=function(){const e=Object(K.a)(J.a.services.Sends.createSendMax()),{currentStep:t,goToStep:a}=Object(b.a)(),n=Object(ee.a)();return Object(o.useCallback)(async(o,{onChange:i})=>{try{const n=await e({},{fromAccount:{id:o.accountId},to:o.recipient,destinationTag:o.destinationTag,note:o.note,giftingCardType:o.attachedCardType,sendType:o.sendType,confirmOptions:[]});i({sendData:n,sendType:n.sendType}),a("giftingEntryStep"===t?"giftingPreviewStep":"previewStep")}catch(c){n(c)}},[t,n,e,a])}(),{currentStep:n}=Object(b.a)();return Object(o.useCallback)(async(o,i)=>{ie.includes(n)?o.isSendingMax?await a(o,i):await e(o,i):await t(o,i)},[n,e,a,t])}var re=a("gN02"),le=a("3Fxd"),se=a("wngC"),de=a("iiUS"),ue=a("zQX7");const be=Object(T.c)({confirm:{id:"ArtCardInfo.confirm",defaultMessage:"Got it"}});var pe=({content:e,title:t})=>{const{formatMessage:a}=Object(re.a)(),{goBack:o}=Object(b.a)(),i=Object(x.a)();return Object(n.a)(de.VStack,{height:i?"var(--full-view-height, 100vh)":"100%",justifyContent:"space-between"},void 0,Object(n.a)(de.VStack,{overflow:"hidden"},void 0,Object(n.a)(P,{title:t}),Object(n.a)(se.Box,{overflow:"auto",spacing:3},void 0,Object(n.a)(ue.TextBody,{as:"p"},void 0,e))),Object(n.a)(se.Box,{spacing:2,borderedTop:!0},void 0,Object(n.a)(le.Button,{onPress:o,variant:"primary",block:!0},void 0,a(be.confirm))))},me=a("UutA"),ge=a("eEWS"),fe=a("FQEq"),ve=a("tqeJ"),Oe=a("+M5G"),je=a("i7H4");const he=Object(T.c)({by:{id:"ArtCard.by",defaultMessage:"By {name}"}}),ye=me.e.img.withConfig({displayName:"ArtCard__ArtImage",componentId:"sc-1oks02l-0"})(["border:",";border-radius:",";margin-bottom:10px;width:","px;"],({theme:e})=>"1px solid "+e.color.border,({theme:e})=>e.border.largeBorderRadius,131),Se=me.e.div.withConfig({displayName:"ArtCard__InfoIconWrapper",componentId:"sc-1oks02l-1"})(["position:relative;top:-2px;"]);var we=({artistName:e,imageUrl:t,onInfoClick:a=I.a,title:o,showInfoIcon:i})=>{const{formatMessage:c}=Object(re.a)();return Object(n.a)(fe.VStack,{width:131},void 0,Object(n.a)(ye,{src:t,alt:o}),Object(n.a)(je.TextLabel1,{as:"p"},void 0,o),Object(n.a)(fe.HStack,{justifyContent:"space-between",alignItems:"flex-end"},void 0,Object(n.a)(je.TextLabel2,{as:"p",spacingEnd:.5,noWrap:!0,overflow:"truncate",testID:"artistName"},void 0,c(he.by,{name:e})),!!i&&Object(n.a)(Se,{onClick:a},void 0,Object(n.a)(Oe.Icon,{name:"info",size:"xs",color:"foregroundMuted",testID:"infoIcon"}))))};const Ce=Object(T.c)({select:{id:"ArtCardSelect.select",defaultMessage:"Select"}}),_e=me.e.div.withConfig({displayName:"ArtCardSelectStep__ArtCardWrapper",componentId:"u6lb9w-0"})(["cursor:pointer;padding-left:","px;padding-right:","px;"],12,12),ke=me.e.div.withConfig({displayName:"ArtCardSelectStep__EmptyCardSlot",componentId:"u6lb9w-1"})(["width:","px;"],155);var Ie=({onArtInfoClick:e=I.a})=>{const t=Object(x.a)(),{attachedCardType:a}=Object(M.a)(w.a),[i,c]=Object(o.useState)(a.value),{goBack:r}=Object(b.a)(),{formatMessage:l}=Object(re.a)(),{giftingCards:s}=Object(p.a)(J.a.services.Sends.listGiftingCards(),{}),{logSendFlowButtonPress:d,logSendModalRenderEvent:u}=Object(ve.a)();Object(o.useEffect)(()=>{u({step:"select_gift_card",flow:"send_setup"})},[]);const m=Object(o.useCallback)(()=>{d({componentName:"select",step:"select_gift_card",card:i}),a.onChange(i),r()},[a,r,d,i]);return Object(n.a)(fe.VStack,{height:t?"var(--full-view-height, 100vh)":"100%",justifyContent:"space-between"},void 0,Object(n.a)(fe.VStack,{height:"100%",overflow:"hidden"},void 0,Object(n.a)(P,{}),Object(n.a)(fe.HStack,{flexWrap:"wrap",spacing:3,alignContent:"flex-start",justifyContent:"center",overflow:"auto",maxHeight:t?void 0:500},void 0,s.map(t=>Object(n.a)(_e,{onClick:()=>c(e=>e===t.cardType?void 0:t.cardType)},t.cardType,Object(n.a)(fe.Box,{spacingBottom:3,opacity:i&&i!==t.cardType?.4:1},t.cardType,Object(n.a)(we,{artistName:t.artistName,imageUrl:t.imageUrl,title:t.cardName,showInfoIcon:!!t.artistBio,onInfoClick:a=>{d({componentName:"info",step:"select_gift_card",card:t.cardType}),a.stopPropagation(),e(t)}})))),s.length%2===1&&Object(n.a)(ke,{}))),Object(n.a)(fe.Box,{spacing:2,borderedTop:!0},void 0,Object(n.a)(ge.Button,{onPress:m,variant:"primary",disabled:!i,block:!0},void 0,l(Ce.select))))},Te=a("WI56"),Me=a("WjcU"),xe=a("hLKW"),Ee=a("O8JI"),Be=a("DRDe");function Ne({header:e}){const{cryptoSymbol:t}=Object(M.a)(w.a);return Object(n.a)(Te.a,{auto:!0,column:!0},void 0,e,Object(n.a)(Ae,{},void 0,Object(n.a)(xe.a,{assetSymbol:t.value})))}const Ae=Object(me.e)(Ee.s).withConfig({displayName:"AvailableBalanceStep__ScrollablePaddedContent",componentId:"szjkg3-0"})(["@media not all and (","){max-height:","px;}overflow-y:auto;padding-bottom:","px;"],Me.b.phone,Be.a,Be.d);var Fe=a("hIT1");var De=e=>{const t=/([a-z0-9])(\.)([^\s|^.])/gim;return t.test(e)?e.replace(t,"$1$2 $3"):e},Re=a("sMDT"),Pe=a("e/K8"),ze=a("Fc7c"),Le=a("6pIo"),We=a("cqL8"),Ve=a("vq5h"),He=a("FjqB"),Ue=a("lXwP"),Ge=a("ou6W"),qe=a("nms+"),Xe=a("TDwA");function Ke(e,t={}){const{cryptoSymbol:a}=Object(M.a)(w.a);return Object(qe.a)(e,Object.assign({category:"send",action:Xe.ActionType.click,asset_ticker:a.value},t))}function Ye(e,t={}){const{cryptoSymbol:a}=Object(M.a)(w.a);return Object(Ee.M)(e,"send",Object.assign({category:"send",action:Xe.ActionType.view,asset_ticker:a.value},t))}function Qe({componentName:e}){return Object(qe.a)("wallet_promotion_button",{loggingId:"23de5f71-a95c-4663-b139-77d976e72113",action:Xe.ActionType.click,componentType:Xe.ComponentType.button,componentName:e})}function Je(){const{cryptoSymbol:e,fiatCode:t,activeCurrencyIsFiat:a}=Object(M.a)(w.a);return{activeSymbol:a.value?t.value:e.value,inactiveSymbol:a.value?e.value:t.value}}function Ze(){const{accountId:e}=Object(M.a)(w.a),{accounts:t=[]}=Object(G.a)("SEND");return t.find(t=>(null===t||void 0===t?void 0:t.id)===e.value)}var $e=a("zitm");function et(){const{cryptoSymbol:e}=Object(M.a)(w.a);return Object($e.a)(e.value,"SEND")}function tt(){return et().destinationTag}const at=Object(T.c)({amount:{id:"SenfdEntryInput.useEntryError.amount",defaultMessage:"Amount"},noFunds:{id:"SenfdEntryInput.useEntryError.noFunds",defaultMessage:"You don't have any {assetName} to send. Try buying some to get started."}}),nt=["amount","destinationTag"];function ot({isFiat:e}){const t=Ze();return Object(o.useMemo)(()=>{var a,n;return e?(null===t||void 0===t||null===(a=t.availableToSendFiat)||void 0===a?void 0:a.value)||"":(null===t||void 0===t||null===(n=t.availableToSend)||void 0===n?void 0:n.value)||""},[e,t])}function it(){const e=Ke("send_switch_currency_tapped",{context:"amount"}),{amount:t,isSendingMax:a,activeCurrencyIsFiat:n}=Object(M.a)(w.a),i=ot({isFiat:!n.value}),{onChange:c}=t,{onChange:r,value:l}=n,s=function(){const{amount:e,activeCurrencyIsFiat:t}=Object(M.a)(w.a),{activeSymbol:a,inactiveSymbol:n}=Je(),i=Object(ne.a)(),c=et(),{value:r,onChange:l}=e;return Object(o.useCallback)(()=>{if(["","0"].includes(r))return;const e=i({amount:r,currency:a},n);l(t.value?e.toFixed(c.exponent||8):e.toFixed(2))},[c,r,l,a,n,i,t])}(),d=Object(o.useCallback)(()=>{a.value?c(i):s()},[a,i,c,s]);return Object(o.useCallback)(()=>{const t=!l;e(),r(t),d()},[r,l,e,d])}const ct=Object(T.c)({sendAll:{id:"Send.SendEntryInput.sendAll",defaultMessage:"Send all"}});function rt({onEnter:e}){Ye("send_amount_viewed",{context:"amount"});const{formatMessage:t}=Object(re.a)(),{amount:a,__formError:i,isSendingMax:c,additionalInfo:r}=Object(M.a)(w.a),{activeSymbol:d,inactiveSymbol:u}=Je(),p=function(){const{formatMessage:e}=Object(re.a)(),{__formError:t}=Object(M.a)(w.a),a=tt(),n=Object(Ue.a)(w.a),i=l(),c=Ze(),r=et(),s=new Map([["amount",e(at.amount)],["destinationTag",(null===a||void 0===a?void 0:a.name)||""]]),d=Object(Z.a)("june_2020_web_funded_sends","treatment");return Object(o.useMemo)(()=>{var a;if(c&&0===Number(null===c||void 0===c||null===(a=c.availableBalance)||void 0===a?void 0:a.value)&&!d)return e(at.noFunds,{assetName:(null===r||void 0===r?void 0:r.name)||""});if(t.errors&&t.errors[0])return t.errors[0];for(const t of nt){const a=n[t];if((null===a||void 0===a?void 0:a.length)&&("amount"===t||t!==i))return"string"===typeof a[0]?a[0]:e(a[0],{fieldName:s.get(t)||""})}},[r,n,c,t,i,s,e,d])}(),{goToStep:m}=Object(b.a)(),{logSendFlowButtonPress:g}=Object(ve.a)(),f=s("amount"),v=it(),O=function(){const{logSendFlowButtonPress:e}=Object(ve.a)(),{isSendingMax:t,amount:a,activeCurrencyIsFiat:n}=Object(M.a)(w.a),i=t.onChange,c=a.onChange,r=ot({isFiat:n.value}),l=Ke("send_use_max_tapped",{context:"amount"});return Object(o.useEffect)(()=>{t.value&&c(r)},[]),Object(o.useCallback)(async()=>{l(),e({componentName:"send_all",flow:"send_setup"}),i(!0),c(r)},[l,e,i,c,r])}(),j=Object(o.useCallback)(()=>{v(),g({componentName:"switch_asset_type",flow:"send_setup"})},[v,g]),h=c.onChange,y=a.onChange,S=Object(o.useCallback)(e=>{i.onChange(void 0),r.onChange(void 0),h(!1),y(e)},[y,h,i,r]),C=Object(o.useCallback)(()=>{m("additionalInfo")},[m]);return Object(n.a)(Ee.d,{error:p,input:Object.assign({symbol:d,value:"0"===a.value?"":a.value,onChange:S,onEnter:e},f),additionalInfo:r.value,onAdditionalInfoClick:C,secondaryButton:Object(n.a)(Ee.e,{onPress:O},void 0,t(ct.sendAll)),switchActiveInput:{onPress:j,inactiveSymbol:u}})}var lt=a("LDJZ"),st=a("kSTq"),dt=a("Y0sT"),ut=a("f8+8"),bt=a("9iU7"),pt=a("ckIB"),mt=a("X4gq"),gt=a("ipi0"),ft=a("7rk+");const vt=()=>Object(n.a)(bt.a,{leftColumn:Object(n.a)(lt.a,{as:st.a}),rightColumn:Object(n.a)(lt.a,{as:st.a})});function Ot(){return Object(n.a)(dt.a,{name:"SendFooter",errorFallback:()=>Object(n.a)(ht,{}),fallback:Object(n.a)(vt,{})},void 0,Object(n.a)(jt,{}))}function jt(){const{cryptoSymbol:e}=Object(M.a)(w.a),t=Object(pt.a)(e.value),{goToStep:a}=Object(b.a)(),i=Object(o.useCallback)(()=>{a("availableBalanceStep")},[a]),{availableToSend:c,availableToSendFiat:r,showInfo:l}=function(){const{cryptoSymbol:e}=Object(M.a)(w.a),t=Object(ft.a)(),a=Object(ne.a)(),{totalBalance:n}=Object(gt.a)(e.value),i=Object(mt.a)(e.value);return Object(o.useMemo)(()=>{const o={amount:String(i),currency:t};return{availableToSend:{amount:String(a(o,e.value)),currency:e.value},availableToSendFiat:o,showInfo:n>i}},[a,n,t,e.value,i])}(),s=l||t?Object(n.a)(ut.a,{assetSymbol:e.value,onBalanceClick:i}):void 0;return Object(n.a)(bt.b,{label:s,balance:c,fiatBalance:r})}const ht=me.e.div.withConfig({displayName:"SendFooter__FooterErrorContainer",componentId:"ou20yz-0"})(["height:","px;"],Be.d);var yt=a("tvCz"),St=a("hqqT"),wt=a("bZa+"),Ct=a("UjPE"),_t=a("GNF6"),kt=a("U59w");var It=()=>{const{attachedCardType:e}=Object(M.a)(w.a),{giftingCards:t}=Object(p.a)(J.a.services.Sends.listGiftingCards(),{});return Object(o.useMemo)(()=>e.value?t.find(t=>t.cardType===e.value):void 0,[e,t])};function Tt(){const{recipient:e}=Object(M.a)(w.a);return!Object(ae.a)(e.value)}const Mt=Object(T.c)({sendOnCoinbase:{id:"Send.SendTypes.sendOnCoinbase",defaultMessage:"Send on Coinbase"},sendOnBlockchain:{id:"Send.SendTypes.sendOnBlockchain",defaultMessage:"Send on blockchain"},freeAndInstant:{id:"Send.SendTypes.freeAndInstant",defaultMessage:"Free & instant"},feesAndSendTimesVaryShortened:{id:"Send.SendTypes.feesAndSendTimesVaryShortened",defaultMessage:"Fees & send times vary"},feesAndSendTimesVary:{id:"Send.SendTypes.feesAndSendTimesVary",defaultMessage:"Your transaction will be recorded on the blockchain. Fees and send times vary."}});function xt(){const{formatMessage:e}=Object(re.a)();return Object(o.useMemo)(()=>({OFF_CHAIN:{type:"OFF_CHAIN",title:e(Mt.sendOnCoinbase),shortDescription:e(Mt.freeAndInstant),description:e(Mt.freeAndInstant),iconUrl:"https://static-assets.coinbase.com/coinbase/coinbase-logo-round.svg"},ON_CHAIN:{type:"ON_CHAIN",title:e(Mt.sendOnBlockchain),shortDescription:e(Mt.feesAndSendTimesVaryShortened),description:e(Mt.feesAndSendTimesVary),iconUrl:"https://static-assets.coinbase.com/coinbase/loyalty/icons/arrow-forward-blue.svg"}}),[e])}var Et=a("+I+c"),Bt=a("xRJQ");const Nt=me.e.input.attrs({type:"text"}).withConfig({displayName:"styles__StyledInput",componentId:"sc-13835d0-0"})(["outline:none;cursor:text;height:30px;font-size:",";width:100%;border:none;color:",";background-color:",";"],e=>e.theme.fontSize.small,e=>e.theme.color.text,e=>e.theme.color.background),At=Object(T.c)({destinationTagError:{id:"SendReceive.Send.DestinationTagField.destinationTagError",defaultMessage:"The following field is invalid, please leave it blank or enter a valid value: {fieldName}"}});function Ft(){const{destinationTag:e}=Object(M.a)(w.a),t=tt(),a=function(){const e=tt(),{destinationTag:t,__formError:a}=Object(M.a)(w.a),{onChange:n,onErrors:i}=t,c=null===e||void 0===e?void 0:e.regex;return Object(o.useCallback)(e=>{a.onChange(void 0);const t=e.target.value;n(t),c&&""!==t&&!Object(Bt.a)(new RegExp(c))(t)&&i([At.destinationTagError])},[n,i,c,a])}(),n=s("destinationTag"),c=Object(Et.a)(e,["onErrors"]);return i.a.createElement(Nt,Object.assign({placeholder:(null===t||void 0===t?void 0:t.name)||""},c,n,{onChange:a}))}var Dt=a("tFAH");const Rt=Object(T.c)({invalidUrlErrorMessage:{id:"SendReceive.Send.NoteField.urlNotPermitted",defaultMessage:"For your security, website links are not allowed."}});function Pt({maxHeight:e,minHeight:t=30,onFocus:a=I.a,placeholder:c=""}){const{note:r,__formError:d}=Object(M.a)(w.a),{onErrors:u}=r,b=Object(Et.a)(r,["onErrors"]),{formatMessage:p}=Object(re.a)(),m=s("note"),g=Object(o.useCallback)(e=>{d.onChange(void 0),r.onChange(e),(e=>{const t="(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",a=new RegExp(`${t}\\.${t}\\.${t}\\.${t}(\\:([0-9]{1,6}))?`,"igm");return!/(https?:\/\/(?:www\.|(?!www))([a-z0-9][a-z0-9]+[a-z0-9]\.[^\s]{2,}|[a-z0-9]+\.[^\s]{2,})|www\.[a-z0-9]+\.[^\s]{2,}|www\.[a-z0-9][a-z0-9]+[a-z0-9]\.[^\s]{2,})/gi.test(e)&&!a.test(e)})(e)||u([p(Rt.invalidUrlErrorMessage)])},[r,d,u,p]),f=!("note"===l())&&""!==r.value&&r.errors.length>0,v=Object(o.useCallback)(()=>{m.onFocus(),a()},[m,a]);return Object(n.a)(de.VStack,{justifyContent:"flex-start",width:"100%"},void 0,i.a.createElement(zt,Object.assign({autoExpand:!0,maxHeight:e,minHeight:t,maxLength:1e3,placeholder:c},b,m,{onFocus:v,onChange:g})),f?Object(n.a)(Lt,{},void 0,r.errors[0]):null)}const zt=Object(me.e)(yt.a).withConfig({displayName:"NoteField__NoteTextArea",componentId:"sc-1mrha89-0"})(["outline:none;font-family:inherit;width:100%;border:none;padding:6px 0;font-size:",";max-height:",";min-height:","px;"],e=>e.theme.fontSize.small,e=>"undefined"!==typeof e.maxHeight?Object(Dt.a)(e.maxHeight)+"px":"auto",e=>Object(Dt.a)(e.minHeight)),Lt=Object(me.e)(st.a).withConfig({displayName:"NoteField__StyledErrorBody",componentId:"sc-1mrha89-1"})(["color:",";"],e=>e.theme.color.negative);var Wt,Vt=a("EmNC"),Ht=a("Lc37"),Ut=(a("oN8/"),a("9Twb"));const Gt=void 0!==Wt?Wt:Wt=a("PRZD");var qt=a("0Rcs");const Xt=Object(T.c)({invalid:{id:"useValidateRecipient.invalid",defaultMessage:"Please enter a valid email, mobile or address"}});function Kt(){var e;const{recipient:t,destinationTag:a}=Object(M.a)(w.a),{addressRegex:n}=et(),i=Object(Z.a)("nov_2020_web_p2p_phone_sends_v2","treatment",{skipTracking:!0}),c=Object(o.useMemo)(()=>{const e=Object(Bt.a)(new RegExp(n))(t.value),o=!Object(ae.c)(t.value),c=e?"ADDRESS":i&&o?"PHONE":"";return c?{recipient:t.value,destinationTag:a.value,recipientType:c}:null},[n,t.value,a.value,i]),r=Object(Vt.a)(c,500),l=c!==r,{data:s,loading:d,error:u}=Object(qt.a)(J.a.services.Sends.searchRecipient(),r),b=Boolean(i&&!l&&"PHONE"===(null===c||void 0===c?void 0:c.recipientType)&&!d&&!(null===s||void 0===s||null===(e=s.results)||void 0===e?void 0:e.length));return Object(o.useEffect)(()=>{b&&t.onErrors([Xt.invalid])},[b]),Object(o.useEffect)(()=>{u&&t.onErrors([u.message])},[u]),{data:l?void 0:s,loading:d}}const Yt=Object(T.c)({addressType:{id:"RecipientMessage.addressType",defaultMessage:"{cryptoSymbol} address"},phoneNumber:{id:"RecipientMessage.phoneNumber",defaultMessage:"Phone number"},email:{id:"RecipientMessage.email",defaultMessage:"Email"},usesCoinbase:{id:"RecipientMessage.usesCoinbase",defaultMessage:"Uses Coinbase"},recipient:{id:"RecipientMessage.recipient",defaultMessage:"Recipient"}});function Qt(){var e,t,a;const{formatMessage:i}=Object(re.a)(),{recipient:c,cryptoSymbol:r}=Object(M.a)(w.a),{data:s}=Kt(),d=null===s||void 0===s||null===(e=s.results[0])||void 0===e?void 0:e.coinbaseAccount,u=c.errors[0],b=!u,p=!Object(ae.a)(c.value),m="ADDRESS"===(null===s||void 0===s||null===(t=s.results[0])||void 0===t?void 0:t.type),g="PHONE"===(null===s||void 0===s||null===(a=s.results[0])||void 0===a?void 0:a.type),f=Object(Z.a)("nov_2020_web_p2p_phone_sends_v2","treatment",{skipTracking:!0}),v=Object(o.useMemo)(()=>f&&g?[i(Yt.phoneNumber)]:p?[i(Yt.email)]:m?[i(Yt.addressType,{cryptoSymbol:r.value}),...d?[i(Yt.usesCoinbase)]:[]]:[],[m,p,g,r.value,i,f,d]);return"recipient"===l()||""===c.value?null:Object(n.a)(Te.a,{column:!1},void 0,u&&Object(n.a)(Jt,{puppeteerHandle:"send-inline-error-text"},void 0,i(u,{fieldName:i(Yt.recipient)})),b&&Object(n.a)(Zt,{color:"light"},void 0,v.join(" \xb7 ")))}const Jt=Object(me.e)(st.a).withConfig({displayName:"RecipientMessage__StyledErrorBody",componentId:"a5nxcw-0"})(["color:",";"],e=>e.theme.color.negative),Zt=Object(me.e)(st.a).withConfig({displayName:"RecipientMessage__StyledBody",componentId:"a5nxcw-1"})(["font-size:",";"],e=>e.theme.fontSize.tiny),$t=Object(T.c)({placeholder:{id:"SendReceive.Send.RecipientField.placeholder",defaultMessage:"Enter email or address"},placeholderWithPhone:{id:"SendReceive.Send.RecipientField.placeholderWithPhone",defaultMessage:"Mobile, email, or address"},placeholderWithOnlyEmail:{id:"SendReceive.Send.RecipientField.placeholderWithOnlyEmail",defaultMessage:"Email address"},emailError:{id:"SendReceive.Send.RecipientField.emailError",defaultMessage:"Please enter a valid email"},addressOrEmailError:{id:"SendReceive.Send.RecipientField.addressOrEmailError",defaultMessage:"Please enter a valid address or email"},addressOrEmailOrPhoneError:{id:"SendReceive.Send.RecipientField.addressOrEmailOrPhoneError",defaultMessage:"Invalid email, phone or address"},addressOrEmailErrorCardano:{id:"SendReceive.Send.RecipientField.addressOrEmailErrorCardano",defaultMessage:'Enter a valid email or Cardano address starting with "addr1", "Ae2td" or "DDzFFz"'},addressOrEmailOrPhoneErrorCardano:{id:"SendReceive.Send.RecipientField.addressOrEmailOrPhoneErrorCardano",defaultMessage:'Enter a valid email, phone number, or Cardano address starting with "addr1", "Ae2td" or "DDzFFz"'}});function ea(){const{currentStep:e}=Object(b.a)(),{recipient:t,__formError:a,cryptoSymbol:n}=Object(M.a)(w.a),{onChange:i,onErrors:c}=t,{addressRegex:r,nameServiceRegex:l}=et(),s=Object(qe.a)("address_inputted"),d=Object(Z.a)("nov_2020_web_p2p_phone_sends_v2","treatment"),u=Object(o.useMemo)(()=>new RegExp(l),[l]),p=function(){const{recipient:e}=Object(M.a)(w.a),{onChange:t}=e,{setLoading:a}=Object(o.useContext)(h),n=Object(Ut.a)();return Object(o.useCallback)(async e=>{try{var o,i;a(!0);const c=await n(Gt,{name:e}),r=null===c||void 0===c||null===(o=c.viewer)||void 0===o||null===(i=o.ensNameResolution)||void 0===i?void 0:i.address;r&&t(r)}catch(c){Bugsnag.notify("ENS graphql lookup not functioning")}finally{a(!1)}},[t,a,n])}(),m=Object(Ht.a)("kill_ens_sends"),g=Object(Vt.a)(t.value,500);return Object(o.useEffect)(()=>{const e=!!l&&(null===g||void 0===g?void 0:g.match(u));!m&&e&&p(g)},[g]),Object(o.useCallback)(t=>{a.onChange(void 0);const o=!!Object(ae.a)(t),l=!Object(Bt.a)(new RegExp(r))(t),u=!!Object(ae.c)(t);if(i(t),"giftingEntryStep"===e)return void(o?c([$t.emailError]):s({currency:n}));if(d?l&&o&&u:l&&o){const e="ADA"===n.value,t=e?$t.addressOrEmailErrorCardano:$t.addressOrEmailError,a=e?$t.addressOrEmailOrPhoneErrorCardano:$t.addressOrEmailOrPhoneError;c(d?[a]:[t])}else s({currency:n})},[i,c,a,r,n,d,s,e])}function ta(){const{currentStep:e}=Object(b.a)(),{recipient:t}=Object(M.a)(w.a),{formatMessage:a}=Object(re.a)(),c=s("recipient"),r=ea(),l=Object(Z.a)("nov_2020_web_p2p_phone_sends_v2","treatment"),{logSendFlowButtonPress:d}=Object(ve.a)(),u=a("giftingEntryStep"===e?$t.placeholderWithOnlyEmail:l?$t.placeholderWithPhone:$t.placeholder),{loading:p}=Object(o.useContext)(h),m=Object(o.useCallback)(()=>{const{onFocus:e}=c;e(),d({componentName:"to",flow:"send_setup"})},[c,d]),g=Object(Et.a)(t,["onErrors"]);return Object(n.a)(de.VStack,{justifyContent:"flex-start",width:"100%"},void 0,i.a.createElement(aa,Object.assign({},g,{onBlur:c.onBlur,onFocus:m,autoExpand:!0,maxLength:1e3,spellCheck:!1,placeholder:u,onChange:r,disabled:p,"data-testid":"recipient-field"})),Object(n.a)(Qt,{}))}const aa=Object(me.e)(yt.a).withConfig({displayName:"RecipientField__AddressTextArea",componentId:"dvov17-0"})(["outline:none;font-family:inherit;width:100%;border:none;padding:6px 0;font-size:",";max-height:100px;min-height:",";"],e=>e.theme.fontSize.small,e=>e.theme.size.huge);var na=a("SIGa");const oa=Object(me.e)(Te.a).withConfig({displayName:"RecipientIcon__SpinnerContainer",componentId:"sc-1t43dav-0"})(["width:24px;height:24px;"]),ia=({loading:e,type:t="wallet"})=>e?Object(n.a)(oa,{},void 0,Object(n.a)(na.a,{size:"small"})):Object(n.a)(St.Icon,{name:t,size:"s",color:"foregroundMuted"});var ca=Object(o.memo)(ia);const ra=Object(T.c)({payWith:{id:"Send.SendSelector.payWith",defaultMessage:"Pay with"},method:{id:"Send.SendSelector.method",defaultMessage:"Method"}});function la(){const{currentStep:e}=Object(b.a)();return"entryStep"===e||"giftingEntryStep"===e}function sa({label:e}){var t,a,o,i,c,r,l;Ye("send_recipient_viewed",{context:"recipient"});const{sendData:s,isDonation:d,recipient:u}=Object(M.a)(w.a),{data:b}=Kt(),p=la(),m=Object(_t.a)(),g=Object(Z.a)("nov_2020_web_p2p_phone_sends_v2","treatment",{skipTracking:!0}),f=null!=(t=null===(a=s.value)||void 0===a||null===(o=a.toDetails)||void 0===o?void 0:o.displayValue)?t:"",v=!Object(ae.a)(u.value),O="ADDRESS"===(null===b||void 0===b||null===(i=b.results[0])||void 0===i?void 0:i.type),j="PHONE"===(null===b||void 0===b||null===(c=b.results[0])||void 0===c?void 0:c.type),h=O?m(f):f,y=null===(r=s.value)||void 0===r||null===(l=r.toDetails)||void 0===l?void 0:l.imageUrl,S=!d.value&&p,C=y&&"donate@givecrypto.org"===u.value,_=v?"email":g&&j?"phone":"wallet";return Object(n.a)(Ct.a,{disableSelection:!0,hideCaret:!0,primaryLabel:e,secondaryLabel:S?Object(n.a)(ta,{}):h,icon:C?void 0:Object(n.a)(ca,{loading:!h&&!p,type:_}),image:C&&y?y:void 0,leftColumnWidth:C?kt.a:kt.b})}const da=me.e.div.withConfig({displayName:"SendSelector__NoteValueWrapper",componentId:"sc-1mbw9rb-0"})(["color:",";font-size:",";max-height:64px;margin-bottom:4px;overflow:hidden;text-align:left;"],({theme:e})=>e.color.text,({theme:e})=>e.fontSize.small),ua=me.e.img.withConfig({displayName:"SendSelector__ArtImage",componentId:"sc-1mbw9rb-1"})(["border:",";border-radius:",";max-width:50px;"],({theme:e})=>"1px solid "+e.color.border,({theme:e})=>e.border.mediumBorderRadius);function ba({maxTextLength:e,text:t}){const a=It();return Object(n.a)(de.VStack,{alignItems:"flex-start"},void 0,t&&Object(n.a)(da,{},void 0,t.length>e?t.substring(0,e)+"...":t),a&&Object(n.a)(ua,{src:a.imageUrl,alt:a.cardName}))}const pa=Object(me.e)(yt.a).withConfig({displayName:"SendSelector__PlaceholderTextArea",componentId:"sc-1mbw9rb-2"})(["background:transparent;cursor:pointer;font-family:inherit;font-size:",";opacity:1;padding:0;width:100%;"],e=>e.theme.fontSize.small);function ma({expandOnClick:e=!1,label:t,placeholder:a}){const{logSendFlowButtonPress:c}=Object(ve.a)(),{attachedCardType:r,isDonation:l,note:s}=Object(M.a)(w.a),{goToStep:d}=Object(b.a)(),u=la(),p=Ke("send_notes_tapped",{context:"recipient"}),m=Object(o.useCallback)(()=>{p(),c({componentName:"note",flow:"send_setup"})},[c,p]),g=Object(o.useCallback)(()=>{m(),d("giftingNoteStep")},[d,m]),f=Object(o.useMemo)(()=>u?e?s.value||r.value?i.a.createElement(i.a.Fragment,null,Object(n.a)(ba,{text:s.value,maxTextLength:30}),r.errors.length>0&&Object(n.a)(wt.TextLabel2,{as:"p",color:"negative"},void 0,r.errors[0])):i.a.createElement(i.a.Fragment,null,Object(n.a)(pa,{disabled:!0,autoExpand:!0,placeholder:a}),r.errors.length>0&&Object(n.a)(wt.TextLabel2,{as:"p",color:"negative"},void 0,r.errors[0])):Object(n.a)(Pt,{onFocus:m,placeholder:a,maxHeight:100}):r.value?Object(n.a)(ba,{text:s.value,maxTextLength:38}):s.value,[r,e,u,m,s,a]);return l.value||!u&&!s.value&&!r.value?null:Object(n.a)(Ct.a,{borderedTop:!0,disableSelection:!e,hideCaret:!e,icon:Object(n.a)(St.Icon,{name:"pencil",size:"s",color:"foregroundMuted"}),leftColumnWidth:kt.b,onPress:u&&e?g:void 0,primaryLabel:t,secondaryLabel:f})}function ga(){const{destinationTag:e}=Object(M.a)(w.a),t=la(),a=tt();return t||""!==e.value?Object(n.a)(Ct.a,{hideCaret:!0,borderedTop:!0,primaryLabel:(null===a||void 0===a?void 0:a.name)||"",secondaryLabel:t?Object(n.a)(Ft,{}):e.value,icon:Object(n.a)(ca,{loading:!1}),leftColumnWidth:kt.b,disableSelection:!0}):null}function fa(){const e=Ke("send_update_asset_tapped",{context:"pre_confirmation"}),{formatMessage:t}=Object(re.a)(),a=et(),i=Ze(),{goToStep:c}=Object(b.a)(),r=la(),l="account"===Object(o.useContext)(Pe.a).entryPoint,{logSendFlowButtonPress:s}=Object(ve.a)(),d=r&&!l,u=Object(o.useCallback)(()=>{d&&(s({componentName:"pay_with",flow:"send_setup"}),e(),c("selectAccountStep"))},[c,d,s,e]);return Object(n.a)(Ct.a,{disableSelection:!d,hideCaret:!d,primaryLabel:t(ra.payWith),onPress:u,borderedTop:!0,image:null===a||void 0===a?void 0:a.imageUrl,secondaryLabel:null===i||void 0===i?void 0:i.name,leftColumnWidth:kt.a})}function va(){var e;const{formatMessage:t}=Object(re.a)(),{goToStep:a}=Object(b.a)(),i=la(),{sendData:c,sendType:r,cryptoSymbol:l}=Object(M.a)(w.a),s=xt(),d=Object(qe.a)("click_to_change_send_method"),u=Object(o.useCallback)(()=>{d({currency:l}),a("sendTypeStep")},[a,l,d]);return!i&&(null===(e=c.value)||void 0===e?void 0:e.eligibleForOffchain)&&r.value?Object(n.a)(Ct.a,{onPress:u,borderedTop:!0,primaryLabel:t(ra.method),image:s[r.value].iconUrl,secondaryLabel:s[r.value].title,secondaryText:s[r.value].shortDescription,testID:"send-type-selector",leftColumnWidth:kt.b}):null}function Oa({expandNote:e=!1,noteLabel:t,notePlaceholder:a,recipientLabel:o}){const i=Tt(),c=tt();return Object(n.a)(de.VStack,{bordered:!0,position:"relative",borderRadius:"compact",width:"100%"},void 0,Object(n.a)(sa,{label:o}),c&&!i?Object(n.a)(ga,{}):Object(n.a)(ma,{expandOnClick:e,label:t,placeholder:a}),Object(n.a)(fa,{}),Object(n.a)(va,{}))}var ja=Object(o.memo)(Oa),ha=a("vp/C"),ya=a("+CXe"),Sa=a("yVYY"),wa=a("XJwD"),Ca=a("Ip4q"),_a=a("4hVA"),ka=a("iNnr"),Ia=a("abUL"),Ta=a.p+"coinbase-wallet.d33da0114705e1d6a85263bbf7a394f2.png";const Ma=Object(T.c)({coinbaseWallet:{id:"WalletUpsellBanner.coinbaseWallet",defaultMessage:"Coinbase Wallet"},storeCrypto:{id:"WalletUpsellBanner.storeCrypto",defaultMessage:"Store your crypto securely in a private wallet"}});function xa(){const{formatMessage:e}=Object(re.a)(),{goToStep:t}=Object(b.a)(),{source:a}=Object(p.a)(J.a.services.RemediationAlertService.getRemediationAlert(),{mode:""}),i="c2c_remediation"===a,c=Object(Ht.a)("kill_c2c_remediation"),r=Object(qe.a)("wallet_promotion_card",{loggingId:"110dba29-9214-4e8c-9cfb-01e1ec7b7879",action:Xe.ActionType.render,componentType:Xe.ComponentType.card}),l=Object(qe.a)("wallet_promotion_card",{loggingId:"110dba29-9214-4e8c-9cfb-01e1ec7b7879",action:Xe.ActionType.click,componentType:Xe.ComponentType.card}),s=Object(o.useCallback)(()=>{l(),t("walletUpsellStep")},[l,t]);return!i||c?null:Object(n.a)(ha.a,{onVisibleOnce:r},void 0,Object(n.a)(se.Box,{justifyContent:"center",spacingBottom:2,width:"100%"},void 0,Object(n.a)(wa.PressableOpacity,{as:"button",onPress:s,noScaleOnPress:!0},void 0,Object(n.a)(Sa.HStack,{bordered:!0,borderRadius:"pill",spacing:2,alignItems:"center"},void 0,Object(n.a)(de.VStack,{},void 0,Object(n.a)(_a.TextLabel1,{as:"p",color:"primary"},void 0,e(Ma.coinbaseWallet)),Object(n.a)(Ca.TextHeadline,{as:"p",spacingEnd:1,spacingTop:1},void 0,e(Ma.storeCrypto))),Object(n.a)(ya.a,{src:Ta,width:60,height:60})))))}function Ea(){return Object(n.a)(ka.a,{},void 0,Object(n.a)(Ia.b,{boundaryName:"WalletUpsellBanner"},void 0,Object(n.a)(xa,{})))}var Ba=Object(o.memo)(Ea);var Na=a("v4bl"),Aa=a.n(Na);function Fa(){const e=Object(Z.a)("aug_2021_web_send_amount_fluctuation","treatment"),{accountId:t,amount:a,isSendingMax:n,activeCurrencyIsFiat:i,fiatCode:c}=Object(M.a)(w.a),r=function(){const e=Object(Ue.c)(w.a),t=oe()(Object.assign({},e,{amount:e.amount||"0"}));return Object(o.useMemo)(()=>t,[t.value,t.currency])}(),l=Object(o.useMemo)(()=>({value:Number(a.value).toString(),currency:c.value}),[a.value,c.value]),s=e&&i.value,d=t.value,u=Object(o.useMemo)(()=>s?0===Number(null===l||void 0===l?void 0:l.value)||n.value||!a.isDirty?null:{amountFiat:l,fromAccount:{id:d}}:0===Number(null===r||void 0===r?void 0:r.value)||n.value||!a.isDirty?null:{amount:r,fromAccount:{id:d}},[r,l,d,s,n.value,a.isDirty]);return Object(Vt.a)(u,500)}function Da(){const{amount:e,additionalInfo:t,validationData:a}=Object(M.a)(w.a),n=e.onErrors,i=Fa(),c=Object(Z.a)("june_2020_web_funded_sends","treatment"),r=Object(Z.a)("aug_2021_web_send_amount_fluctuation","treatment"),l=Object(o.useMemo)(()=>c?J.a.services.Sends.previewSendAmount():r?J.a.services.Sends.validateAmount():f.a.Sends.validateAmount,[c,r]),{loading:s,error:d,data:u}=Object(qt.a)(l,i),b=null===u||void 0===u?void 0:u.exchangeRateCacheKey;return Object(o.useEffect)(()=>{if(d){var e;n([d.message]);const o={},i=null===(e=d.details[0])||void 0===e?void 0:e.additional_information;i&&Object.keys(i).forEach(e=>{o[Aa()(e)]=i[e]}),t.onChange(i?o:void 0),a.onChange(void 0)}else n([]),t.onChange(void 0),a.onChange(u)},[d,n,b]),{loading:s,data:u,needsTopUp:!(!c||!1!==(null===u||void 0===u?void 0:u.sufficientFunds))}}var Ra=Object(T.c)({formSubmissionError:{id:"SendReceive.Send.formSubmissionError",defaultMessage:"There was an issue submitting your send, please try again"},malformedResponse:{id:"SendReceive.Send.malformedResponse",defaultMessage:"Received a malformed response from the server. Please try again. If the problem presists, contact support."},send:{id:"SendReceive.Send.send",defaultMessage:"{action, select, DONATE {Donate} GIFT {Gift} other {Send}} now"},noteLabel:{id:"SendReceive.Send.noteLabel",defaultMessage:"Note"},giftingNoteLabel:{id:"SendReceive.Send.giftingNoteLabel",defaultMessage:"Personalize"},toLabel:{id:"SendReceive.Send.toLabel",defaultMessage:"To"},giftingToLabel:{id:"SendReceive.Send.giftingToLabel",defaultMessage:"Gift to"},cardRequiredError:{id:"SendReceive.Send.cardRequiredError",defaultMessage:"Please add a card to your gift"}});const Pa=Object(T.c)({continue:{id:"Send.EntryStep.continue",defaultMessage:"Continue"},notePlaceholder:{id:"Send.EntryStep.notePlaceholder",defaultMessage:"Optional message"},giftingNotePlaceholder:{id:"Send.EntryStep.giftingNotePlaceholder",defaultMessage:"Add a note and card"}});function za({isGifting:e=!1}){const{__isPreflight:t,sendData:a,isDonation:c,cryptoSymbol:r,note:l,amount:s,attachedCardType:d}=Object(M.a)(w.a),u=Object(x.a)(),[p,g,f]=Object(m.a)(e=>e(Ve.a)(r.value),e=>e(He.a)({isRequired:!1}),e=>e(We.d)()),v=Object(Re.a)({rewards:g,assetUuid:null===p||void 0===p?void 0:p.id}),{formatMessage:O}=Object(re.a)(),[j,h]=C(),y=!!Number(s.value),S=e?y&&!!d.value&&h:y&&h,{goToStep:k}=Object(b.a)(),{setCurrency:I}=Object(o.useContext)(Pe.a),{logSendFlowButtonPress:T,logSendModalRenderEvent:E}=Object(ve.a)(),B=function(){const{loading:e}=Da(),t=_();return e||t}(),N=Object(Ue.b)(w.a),A=!S||B,F=function(){const e=tt(),{destinationTag:t}=Object(M.a)(w.a),a=Tt();return""===t.value&&!!e&&!a}(),{needsTopUp:D}=Da(),R=t.onChange,z=[r.value];Object(o.useEffect)(()=>{I("send",r.value)},[r.value]),Object(o.useEffect)(()=>{if(E({flow:"send_setup",currency:r.value}),c.value&&S&&!a.isDirty){R(!0);const{promise:e,cancel:t}=Object(Fe.a)(W());return e.then(()=>R(!1)),()=>t()}},[]),function(e){const{selectedContact:t,setSelectedContact:a}=Object(o.useContext)(Ge.a),{cryptoSymbol:n,accountId:i,recipient:c,destinationTag:r}=Object(M.a)(w.a);Object(o.useEffect)(()=>{if(t&&(c.onChange(t.identifier),"crypto_address"===t.type)){n.onChange(t.currency),t.destinationTag&&r.onChange(t.destinationTag);const a=t.currency,o=e.find(e=>e.currencyCode===a);o&&i.onChange(o.id)}a(void 0)},[t])}(f);const L=Ke("send_next_tapped",{context:"amount"}),W=Object(o.useCallback)(async()=>{T({componentName:"continue",flow:"send_setup"}),L({context:"amount"}),v?k("principalInsolvency"):A?N(nt):F?k("tagWarningStep"):D?k("topUpStep"):(l.onChange(De(l.value)),await j())},[T,L,v,A,k,N,F,D,l,j]),V=Object(o.useCallback)(async()=>{v?k("principalInsolvency"):A?N(nt):await W()},[v,A,k,N,W]),H=B||!S;return i.a.createElement(i.a.Fragment,null,Object(n.a)(Le.a,{view:"SEND",currencies:z}),Object(n.a)(ze.a,{view:"SEND",currencies:z}),Object(n.a)(fe.VStack,{height:u?"var(--full-view-height, 100vh)":void 0},void 0,Object(n.a)(P,{}),Object(n.a)(fe.VStack,{spacingTop:4,overflow:u?"auto":void 0,height:"100%",justifyContent:"space-between"},void 0,Object(n.a)(fe.Box,{spacingHorizontal:3,spacingBottom:1},void 0,Object(n.a)(rt,{onEnter:V})),Object(n.a)(fe.VStack,{},void 0,Object(n.a)(fe.VStack,{spacingHorizontal:3},void 0,Object(n.a)(Ba,{}),Object(n.a)(fe.Spacer,{vertical:1}),Object(n.a)(ja,{"data-testid":"send-selector",expandNote:e,recipientLabel:O(e?Ra.giftingToLabel:Ra.toLabel),noteLabel:O(e?Ra.giftingNoteLabel:Ra.noteLabel),notePlaceholder:O(e?Pa.giftingNotePlaceholder:Pa.notePlaceholder)}),Object(n.a)(fe.Spacer,{vertical:2}),Object(n.a)(le.Button,{block:!0,loading:B,onPress:W,disabled:H,"data-testid":"send-preview-button"},void 0,O(Pa.continue))),Object(n.a)(Ot,{})))))}var La=a("iKd7");const Wa=Object(T.c)({title:{id:"SendFeesInfo.title",defaultMessage:"Fees for Sending"},content:{id:"SendFeesInfo.content",defaultMessage:"Sending to a wallet address incurs a network fee that is charged by the miners of crypto networks and can vary based on user demand. Sending to an email or phone number is free."},learnMore:{id:"SendFeesInfo.learnMore",defaultMessage:"Learn more"}}),Va=()=>{const{goBack:e}=Object(b.a)(),{formatMessage:t}=Object(re.a)(),a=Object(o.useMemo)(()=>({title:t(Wa.title),message:t(Wa.content),cta:{url:"https://help.coinbase.com/en/coinbase/trading-and-funding/pricing-and-fees/fees",text:t(Wa.learnMore)}}),[t]);return Object(n.a)(La.a,{goBackHandler:e,content:a})};var Ha=Object(o.memo)(Va),Ua=a("LhBO"),Ga=a("SJw4");const qa="client-storage-keyval",Xa=Object(Ga.openDB)("cb-client-storage",1,{upgrade(e){e.createObjectStore(qa)}});var Ka=()=>({get:async e=>(await Xa).get(qa,e),set:async(e,t)=>""===t||null===t||void 0===t?Promise.reject("Invalid value"):(await Xa).put(qa,t,e),delete:async e=>(await Xa).delete(qa,e),clearStore:async()=>(await Xa).clear(qa),getKeys:async()=>(await Xa).getAllKeys(qa)});const Ya=async e=>{const t=Ka(),a=await t.get("gifting_interstitial_seen_from")||[];e&&-1===a.indexOf(e)&&t.set("gifting_interstitial_seen_from",[...a,e])},Qa=Object(T.c)({addANoteTitle:{id:"GiftingEducationScreen.addANoteTitle",defaultMessage:"Add a personal note"},addANoteSubtitle:{id:"GiftingEducationScreen.addANoteSubtitle",defaultMessage:"Write a friendly note to the person receiving the gift"},chooseACardTitle:{id:"GiftingEducationScreen.chooseACardTitle",defaultMessage:"Choose a card design"},chooseACardSubtitle:{id:"GiftingEducationScreen.chooseACardSubtitle",defaultMessage:"We've partnered with up-and-coming artists for you to choose from"},selectRecipientTitle:{id:"GiftingEducationScreen.selectRecipientTitle",defaultMessage:"Select a recipient"},selectRecipientSubtitle:{id:"GiftingEducationScreen.selectRecipientSubtitle",defaultMessage:"You can send a crypto gift to anyone with an email address"},giftCrypto:{id:"GiftingEducationScreen.giftCrypto",defaultMessage:"Gift crypto to your friends and family"},sendAGift:{id:"GiftingEducationScreen.sendAGift",defaultMessage:"Send a gift"}}),Ja=Object(o.memo)(()=>{const{formatMessage:e}=Object(re.a)(),t=[{title:e(Qa.selectRecipientTitle),subtitle:e(Qa.selectRecipientSubtitle)},{title:e(Qa.chooseACardTitle),subtitle:e(Qa.chooseACardSubtitle)},{title:e(Qa.addANoteTitle),subtitle:e(Qa.addANoteSubtitle)}];return Object(n.a)(fe.VStack,{},void 0,t.map(e=>Object(n.a)(fe.HStack,{alignItems:"flex-start",spacingBottom:3},e.title,Object(n.a)(St.Icon,{name:"checkmark",color:"foreground",size:"s",spacingEnd:2,spacingTop:.5}),Object(n.a)(fe.VStack,{},void 0,Object(n.a)(je.TextHeadline,{as:"p"},void 0,e.title),Object(n.a)(je.TextBody,{color:"foregroundMuted",as:"p"},void 0,e.subtitle)))))}),Za=({entryPoint:e})=>{const{formatMessage:t}=Object(re.a)(),{goToStep:a}=Object(b.a)(),i=Object(x.a)(),{logSendFlowButtonPress:c,logSendModalRenderEvent:r}=Object(ve.a)();Object(o.useEffect)(()=>{r({flow:"send_setup",step:"onboarding"})},[]);const l=Object(o.useCallback)(()=>{e&&Ya(e)},[e]),s=Object(o.useCallback)(()=>{c({flow:"send_setup",componentName:"continue",step:"onboarding"}),e&&Ya(e),a("giftingEntryStep")},[e,a,c]);return Object(n.a)(fe.VStack,{height:i?"var(--full-view-height, 100vh)":void 0},void 0,Object(n.a)(P,{onBack:l}),Object(n.a)(fe.VStack,{spacingHorizontal:3,height:"100%",overflow:"auto"},void 0,Object(n.a)(fe.VStack,{justifyContent:"center",alignItems:"center",spacingBottom:4},void 0,Object(n.a)(Ua.HeroSquare,{name:"p2pGifting",scaleMultiplier:.5}),Object(n.a)(fe.Spacer,{vertical:1}),Object(n.a)(je.TextTitle3,{as:"p",align:"center",spacingHorizontal:4},void 0,t(Qa.giftCrypto))),Object(n.a)(Ja,{})),Object(n.a)(fe.Box,{spacingHorizontal:3,spacingVertical:2,borderedTop:!0},void 0,Object(n.a)(ge.Button,{block:!0,variant:"primary",onPress:s},void 0,t(Qa.sendAGift))))};var $a=Object(o.memo)(Za),en=a("iRmS");const tn=({entryPoint:e})=>{const{goToStep:t}=Object(b.a)();return Object(o.useEffect)(()=>{!async function(){if(e){const a=await(async e=>{const t=Ka(),a=await t.get("gifting_interstitial_seen_from");return!!a&&a.includes(e)})(e);return t(a?"giftingEntryStep":"giftingInterstitial")}t("giftingEntryStep")}()},[]),Object(n.a)(an,{})},an=Object(me.e)(en.a).withConfig({displayName:"GiftingRouting__StyledLoadingContainer",componentId:"jptt3f-0"})(["flex:1 1 auto;justify-content:center;align-items:center;"]);var nn=Object(o.memo)(tn);const on=Object(T.c)({title:{id:"Receive.SendWarningStep.networkFee",defaultMessage:"Network fee"},description:{id:"Receive.SendWarningStep.networkFeeInfo",defaultMessage:"Sending to an address incurs a network fee that may vary based on network usage. Sending to an email or phone number is always free."},learnMore:{id:"Receive.SendWarningStep.learnMore",defaultMessage:"Learn more"}});function cn(){var e;const{goBack:t}=Object(b.a)(),{formatMessage:a}=Object(re.a)(),{sendData:i}=Object(M.a)(w.a),c=null===(e=i.value)||void 0===e?void 0:e.fees,r=Object(o.useMemo)(()=>({title:a(on.title),message:a(on.description),cta:{url:(null===c||void 0===c?void 0:c.length)?c[0].helpLinkUrl:"",text:a(on.learnMore)}}),[c,a]);return Object(n.a)(La.a,{goBackHandler:t,content:r})}var rn=Object(o.memo)(cn),ln=a("n9lU");const sn=Object(T.c)({gotIt:{id:"Send.NoteInfoStep.gotIt",defaultMessage:"Got it"},noteInfo:{id:"Send.NoteInfoStep.noteInfo",defaultMessage:"If you send crypto to an email or phone number, your recipient will see your note. It will also appear in your Coinbase transaction history. Your note will never be added to the blockchain."}});var dn=()=>{const{formatMessage:e}=Object(re.a)(),{goBack:t}=Object(b.a)(),a=Object(o.useCallback)(()=>{t()},[t]);return Object(n.a)(de.VStack,{height:"100%",justifyContent:"space-between"},void 0,Object(n.a)(de.VStack,{},void 0,Object(n.a)(P,{}),Object(n.a)(se.Box,{spacingVertical:4,justifyContent:"center"},void 0,Object(n.a)(ln.SpotRectangle,{name:"protectedNotes"})),Object(n.a)(se.Box,{spacingHorizontal:2,spacingBottom:8},void 0,Object(n.a)(ue.TextBody,{as:"p",align:"center"},void 0,e(sn.noteInfo)))),Object(n.a)(se.Box,{spacing:2,borderedTop:!0},void 0,Object(n.a)(le.Button,{onPress:a,variant:"primary",block:!0},void 0,e(sn.gotIt))))};const un=Object(T.c)({addCard:{id:"Send.NoteStep.addCard",defaultMessage:"Add a card"},yourCard:{id:"Send.NoteStep.yourCard",defaultMessage:"Your card"},chooseDesign:{id:"Send.NoteStep.chooseDesign",defaultMessage:"Choose your favorite design"},continue:{id:"Send.NoteStep.continue",defaultMessage:"Continue"},giftingPlaceholder:{id:"Send.NoteStep.giftingPlaceholder",defaultMessage:"Write an optional note to your recipient"}}),bn=me.e.img.withConfig({displayName:"NoteStep__ArtImage",componentId:"t3mdcr-0"})(["align-self:flex-start;border:",";border-radius:",";max-width:",";"],({theme:e})=>"1px solid "+e.color.border,({theme:e})=>e.border.borderRadius,({theme:e})=>e.size.enormous),pn=me.e.div.withConfig({displayName:"NoteStep__EmptyCardWrapper",componentId:"t3mdcr-1"})(["background:",";border-radius:",";padding:",";"],({theme:e})=>e.color.iconBackground,({theme:e})=>e.border.borderRadius,({theme:e})=>e.size.large+" 10px"),mn=me.e.div.withConfig({displayName:"NoteStep__RemoveIconWrapper",componentId:"t3mdcr-2"})(["cursor:pointer;"]);var gn=()=>{const{formatMessage:e}=Object(re.a)(),{goBack:t,goToStep:a}=Object(b.a)(),{__formError:i,attachedCardType:c}=Object(M.a)(w.a),r=It(),{logSendFlowButtonPress:l,logSendModalRenderEvent:s}=Object(ve.a)();Object(o.useEffect)(()=>{s({step:"note",card:c.value,flow:"send_setup"})},[]);const d=Object(o.useCallback)(()=>{l({flow:"send_setup",step:"note",componentName:c.value?"change_card":"add_card"}),a("giftingArtCardSelectStep")},[c.value,a,l]),u=Object(o.useCallback)(e=>{l({flow:"send_setup",step:"note",componentName:"remove_card"}),e.stopPropagation(),c.onChange(void 0)},[c,l]),p=Object(o.useCallback)(()=>{c.value||(i.onChange(void 0),c.onErrors([e(Ra.cardRequiredError)]))},[i,c,e]),m=Object(o.useCallback)(()=>{l({flow:"send_setup",step:"note",componentName:"continue"}),t(),p()},[t,p,l]);return Object(n.a)(de.VStack,{height:"100%"},void 0,Object(n.a)(P,{onBack:p}),Object(n.a)(de.VStack,{justifyContent:"space-between",height:"100%"},void 0,Object(n.a)(se.Box,{spacing:2},void 0,Object(n.a)(Pt,{placeholder:e(un.giftingPlaceholder),minHeight:300})),Object(n.a)(de.VStack,{},void 0,Object(n.a)(Ct.a,{primaryLabel:e(r?un.yourCard:un.addCard),secondaryLabel:r?r.cardName:e(un.chooseDesign),icon:r?Object(n.a)(bn,{src:r.imageUrl,alt:r.cardName}):Object(n.a)(pn,{},void 0,Object(n.a)(St.Icon,{name:"add",color:"foregroundMuted",size:"xs"})),hideCaret:!!r,rightIcon:r?Object(n.a)(mn,{onClick:u},void 0,Object(n.a)(St.Icon,{name:"close",color:"foregroundMuted",size:"xs"})):void 0,onPress:d,borderedTop:!0,nonTruncated:!0}),Object(n.a)(se.Box,{spacing:2,borderedTop:!0},void 0,Object(n.a)(le.Button,{onPress:m,variant:"primary",block:!0},void 0,e(un.continue))))))},fn=a("VBUv"),vn=a("0Xn9"),On=a("5vQi");function jn(e){const t=Object(M.a)(w.a)[e];if(!t.value||!t.value.amount||!t.value.fiatAmount)throw Ra.malformedResponse;const a=t.value.amount,n=t.value.fiatAmount;var o;return{cryptoValue:(o={amount:a.value,currency:a.currency},Object(On.a)()({amount:o,exponent:et().exponent,isFiat:!1})),fiatValue:function(e){return Object(On.a)()({amount:e,isFiat:!0})}({amount:n.value,currency:n.currency})}}function hn(){const{cryptoValue:e,fiatValue:t}=jn("sendData");return Object(n.a)(Te.a,{column:!0,center:!0,auto:!0},void 0,Object(n.a)(Ee.I,{text:t}),Object(n.a)(st.a,{color:"light"},void 0,e))}function yn(){const e=Object(On.a)(),t=et();return Object(o.useCallback)(a=>{const n=t.symbol!==a.currency;return e({amount:a,isFiat:n,exponent:n?void 0:t.exponent})},[t,e])}const Sn=Object(T.c)({timeEstimation:{id:"Send.ReceiptRows.timeEstimation",defaultMessage:"Payment received"},total:{id:"Send.ReceiptRows.total",defaultMessage:"Total"}});function wn(){var e;const{sendData:t}=Object(M.a)(w.a),a=(null===(e=t.value)||void 0===e?void 0:e.fees)||[],c=yn(),r=Object(Ee.K)(),l=Object(Z.a)("jul_2021_web_network_fee_more_info_stepper","treatment"),{goToStep:s}=Object(b.a)(),d=Object(o.useCallback)(()=>s("networkFeesInfo"),[s]),u=Object(o.useCallback)(()=>{r&&s("feesInfo")},[s,r]);return i.a.createElement(i.a.Fragment,null,a.map(e=>e&&e.amount?"FEE_TYPE_NETWORK"===e.type&&l?Object(n.a)(Ee.w,{onClick:d,label:e.name,rightContent:c({amount:e.amount.value,currency:e.amount.currency})},e.name):Object(n.a)(Ee.w,{label:e.name,feeLink:e.helpLinkUrl,rightContent:c({amount:e.amount.value,currency:e.amount.currency}),onClick:u},e.name):null))}function Cn(){var e;const{formatMessage:t}=Object(re.a)(),{sendData:a}=Object(M.a)(w.a),o=null===(e=a.value)||void 0===e?void 0:e.total,i=yn();if(!o)return null;const c=i({amount:o.value,currency:o.currency});return Object(n.a)(Ee.A,{label:t(Sn.total),rightContent:c})}function _n(){var e;const{formatMessage:t}=Object(re.a)(),{sendData:a}=Object(M.a)(w.a),o=null===(e=a.value)||void 0===e?void 0:e.timeEstimation;return Object(n.a)(Ee.A,{label:t(Sn.timeEstimation),rightContent:Object(n.a)(wt.TextLabel2,{as:"label",color:"foregroundMuted"},void 0,o)})}function kn(){return i.a.createElement(i.a.Fragment,null,Object(n.a)(wn,{}),Object(n.a)(Cn,{}),Object(n.a)(_n,{}))}var In=a("O9aY"),Tn=a("B05N"),Mn=a("eSKr"),xn=a("j7F+"),En=a("47un");const Bn="https://www.givecrypto.org/privacy-policy",Nn=Object(T.c)({title:{id:"ShareEmail.title",defaultMessage:"Share my email with {orgName}"},description:{id:"ShareEmail.description",defaultMessage:"Stay informed about how {orgName} is making a difference. Opt out at any time."},privacyPolicyLink:{id:"ShareEmail.privacyPolicyLink",defaultMessage:"Privacy Policy"}}),An=()=>{var e,t,a,o,i,c;const{shareEmail:r,sendData:l}=Object(M.a)(w.a),{formatMessage:s}=Object(re.a)(),d=null===l||void 0===l||null===(e=l.value)||void 0===e||null===(t=e.toDetails)||void 0===t?void 0:t.displayValue,u=null===l||void 0===l||null===(a=l.value)||void 0===a||null===(o=a.confirmOptions)||void 0===o?void 0:o.some(e=>"SHARE_EMAIL"===e),b="GiveCrypto"===(null===l||void 0===l||null===(i=l.value)||void 0===i||null===(c=i.toDetails)||void 0===c?void 0:c.displayValue),p=()=>{r.onChange(!r.value)};return u?Object(n.a)(zn,{},void 0,Object(n.a)(In.a,{selected:r.value,onClick:p}),Object(n.a)(Pn,{},void 0,Object(n.a)(Dn,{},void 0,Object(n.a)("span",{onClick:p},void 0,s(Nn.title,{orgName:d})),b&&Object(n.a)(Wn,{openInNewTab:!0,href:Bn},void 0,Object(n.a)(Fn,{}))),Object(n.a)(Rn,{},void 0,s(Nn.description,{orgName:d}),b&&Object(n.a)(Ln,{openInNewTab:!0,href:Bn},void 0,s(Nn.privacyPolicyLink))))):null},Fn=Object(me.e)(En.e).withConfig({displayName:"ShareEmail__InfoIcon",componentId:"sc-1w28r90-0"})(["display:none;@media (","){display:flex;}"],Me.b.phone_small),Dn=Object(me.e)(Tn.a).attrs({level:3}).withConfig({displayName:"ShareEmail__Title",componentId:"sc-1w28r90-1"})(["cursor:pointer;font-size:",";font-weight:",";display:flex;align-items:center;@media not all and (","){line-height:0.9;margin-bottom:3px;}"],Mn.a.fontSize.small,Mn.a.fontWeight.demiBold,Me.b.phone),Rn=Object(me.e)(st.a).attrs({color:"light"}).withConfig({displayName:"ShareEmail__Description",componentId:"sc-1w28r90-2"})(["font-size:",";@media (","){display:none;}"],Mn.a.fontSize.tiny,Me.b.phone_small),Pn=me.e.div.withConfig({displayName:"ShareEmail__Info",componentId:"sc-1w28r90-3"})(["margin-left:",";"],Mn.a.size.medium),zn=Object(me.e)(Te.a).withConfig({displayName:"ShareEmail__Container",componentId:"sc-1w28r90-4"})(["@media (","){align-items:center;}"],Me.b.phone_small),Ln=Object(me.e)(xn.a).withConfig({displayName:"ShareEmail__PrivacyPolicyLink",componentId:"sc-1w28r90-5"})(["display:inline-block;font-size:",";color:",";margin-left:3px;"],Mn.a.fontSize.tiny,Mn.a.color.textAccent),Wn=Object(me.e)(xn.a).withConfig({displayName:"ShareEmail__PrivacyPolicyIconLink",componentId:"sc-1w28r90-6"})(["display:none;@media (","){display:inline-block;}"],Me.b.phone_small);var Vn=Object(o.memo)(An),Hn=a("KYNS"),Un=a("XrP9");var Gn=()=>{const{sendType:e}=Object(M.a)(w.a),{dob:t,country:a,createdAt:n,email:i,isInEurope:c}=Object(V.a)(),{loading:r,data:{data:l}}=Object(qt.a)(Hn.a.detailShape(),{}),s=Object(o.useMemo)(()=>((null===l||void 0===l?void 0:l.recentTransactions)||[]).filter(e=>"send"===e.type).length,[l]);return Object(o.useMemo)(()=>{const{day:o,month:l,year:d}=t;if(null===o||null===l||null===d)return!1;if((i||"").includes("@coinbase.com"))return!0;const u=new Date(Number(d),Number(l),Number(o)),b=Object(Un.c)(u)/365>=50,p=(!!n&&Object(Un.c)(new Date(n))<=30||b)&&!r&&s<4,m=Boolean(["US","GB"].includes(a.code)||c),g="ON_CHAIN"===e.value;return m&&p&&g},[n,t,a,c,e,i,s,r])};function qn({isGifting:e=!1}){var t,a,i;Ye("send_pre_confirmation_viewed",{context:"pre_confirmation"});const c=Ke("send_send_now_tapped",{context:"pre_confirmation"}),[r]=C(),l=_(),{formatMessage:s}=Object(re.a)(),{isDonation:d,sendData:u,attachedCardType:p}=Object(M.a)(w.a),{goToStep:m}=Object(b.a)(),g=Object(x.a)(),f=Gn(),{logSendModalRenderEvent:v,logSendFlowButtonPress:O}=Object(ve.a)(),j=null===(t=u.value)||void 0===t||null===(a=t.toDetails)||void 0===a||null===(i=a.type)||void 0===i?void 0:i.toLowerCase();Object(o.useEffect)(()=>{v({flow:"send_preview",addressType:j,card:p.value})},[]),Object(fn.a)(vn.a.detailShape(),{});const h=Object(o.useCallback)(async()=>{O({flow:"send_preview",componentName:"send_now",addressType:j}),f?m("scamWarningStep"):(c(),await r())},[r,c,f,m,O,j]),y=Object(o.useMemo)(()=>e?"GIFT":d.value?"DONATE":"SEND",[d.value,e]);return Object(n.a)(fe.VStack,{height:g?"var(--full-view-height, 100vh)":void 0},void 0,Object(n.a)(P,{}),Object(n.a)(fe.VStack,{spacingTop:4,height:"100%",overflow:"auto",justifyContent:"space-between"},void 0,Object(n.a)(fe.VStack,{spacingHorizontal:3,spacingBottom:2},void 0,Object(n.a)(hn,{}),Object(n.a)(fe.Spacer,{vertical:4}),Object(n.a)(ja,{recipientLabel:s(e?Ra.giftingToLabel:Ra.toLabel),noteLabel:s(e?Ra.giftingNoteLabel:Ra.noteLabel)}),Object(n.a)(fe.Spacer,{vertical:2}),Object(n.a)(Vn,{}),Object(n.a)(fe.Spacer,{vertical:2}),Object(n.a)(kn,{})),Object(n.a)(fe.VStack,{},void 0,Object(n.a)(fe.Box,{spacingHorizontal:3},void 0,Object(n.a)(le.Button,{block:!0,loading:l,disabled:l,onPress:h,"data-testid":"send-confirm-button"},void 0,s(Ra.send,{action:y}))),Object(n.a)(Ot,{}))))}var Xn=a("zjQG");var Kn=function(){const{cryptoSymbol:e}=Object(M.a)(w.a),{goToStep:t}=Object(b.a)(),[a,i]=Object(m.a)(t=>t(Ve.a)(e.value),e=>e(He.a)({isRequired:!1})),c=Object(Re.a)({rewards:i,assetUuid:null===a||void 0===a?void 0:a.id,modalType:"transfer"}),r=Object(o.useCallback)(()=>{t("entryStep")},[t]);return Object(n.a)(Xn.a,{assetRewardPrincipalInsolvency:c,handleGoBack:r})},Yn=a("HT0s"),Qn=a("5pfX"),Jn=a("5bpi"),Zn=a("2Mpy");const $n=Object(T.c)({scamWarningTitle:{id:"SendReceive.Send.ScamWarning.ScamWarning.warningTitle",defaultMessage:"Sending crypto is irreversible"},scamWarningMessage:{id:"SendReceive.Send.ScamWarning.ScamWarning.warningText",defaultMessage:"Before you send {cryptoSymbol} to this recipient, please make sure that"},scamWarningMessageBulletOne:{id:"SendReceive.Send.ScamWarning.ScamWarning.warningTextBulletOne",defaultMessage:"You know the recipient and trust them"},scamWarningMessageBulletTwo:{id:"SendReceive.Send.ScamWarning.ScamWarning.warningTextBulletTwo",defaultMessage:"You're sending to the correct address"},goBack:{id:"SendReceive.Send.ScamWarning.ScamWarning.goBack",defaultMessage:"Back"}});function eo(){const e=Ke("send_send_now_tapped",{context:"pre_confirmation"}),[t]=C(),a=_(),{goBack:i}=Object(b.a)(),{formatMessage:c}=Object(re.a)(),{isDonation:r,cryptoSymbol:l,amount:s}=Object(M.a)(w.a),{logSendFlowButtonPress:d,logSendModalRenderEvent:u}=Object(ve.a)();Object(o.useEffect)(()=>{u({flow:"send_warning"})},[]);const p=Object(o.useCallback)(async()=>{e(),d({flow:"send_warning",componentName:"send_now"}),await t()},[t,e,d]),m=Object(o.useCallback)(()=>{Object(Xe.logEvent)("scam_warning_send_back_button_clicked",{action:Xe.ActionType.click,componentType:Xe.ComponentType.button,loggingId:"ff7263ef-d521-45e2-9d47-92fcf4715a3f",asset_ticker:l.value,amount:s.value}),d({flow:"send_warning",componentName:"back"}),i()},[i,l,s,d]);return Object(n.a)(Te.a,{auto:!0,column:!0},void 0,Object(n.a)(no,{paddingTopMobile:Ee.r},void 0,Object(n.a)(Te.a,{column:!0,justify:"center",align:"center"},void 0,Object(n.a)(to,{type:"failure"}),Object(n.a)(Tn.a,{level:3,marginBottom:"md"},void 0,c($n.scamWarningTitle)),Object(n.a)(Tn.a,{level:5,color:"light",marginBottom:"sm"},void 0,c($n.scamWarningMessage,{cryptoSymbol:l.value}),":"),Object(n.a)(Yn.a,{},void 0,Object(n.a)(ao,{},void 0,c($n.scamWarningMessageBulletOne)),Object(n.a)(Ee.F,{size:"small"}),Object(n.a)(ao,{},void 0,c($n.scamWarningMessageBulletTwo)))),Object(n.a)(Ee.F,{size:"medium"}),Object(n.a)(Te.a,{column:!0},void 0,Object(n.a)(Qn.a,{size:"large",loading:a,disabled:a,onClick:p,"data-testid":"send-confirm-button"},void 0,c(Ra.send,{action:r.value?"DONATE":"SEND"})),Object(n.a)(oo,{size:"large",disabled:a,onClick:m,type:"outlineWhite"},void 0,c($n.goBack)))))}const to=Object(me.e)(Jn.a).withConfig({displayName:"ScamWarningStep__StyledStatusTick",componentId:"h4ay3a-0"})(["height:96px;width:96px;margin:"," 0;"],e=>e.theme.size.huge),ao=Object(me.e)(Zn.a).withConfig({displayName:"ScamWarningStep__StyledListItem",componentId:"h4ay3a-1"})(["color:",";"],({theme:e})=>e.color.textLight),no=Object(me.e)(Ee.s).withConfig({displayName:"ScamWarningStep__StyledPaddedContent",componentId:"h4ay3a-2"})(["justify-content:center;"]),oo=Object(me.e)(Qn.a).withConfig({displayName:"ScamWarningStep__StyledGoBackButton",componentId:"h4ay3a-3"})(["color:",";"],({theme:e})=>e.color.text);var io=a("Zwlm"),co=a("dtDk");function ro(){const{fiatCode:e,accountId:t}=Object(M.a)(w.a),a=Object(x.a)(),i=function(){const{accountId:e,cryptoSymbol:t,isDonation:a,amount:n,activeCurrencyIsFiat:i}=Object(M.a)(w.a),{setCurrency:c}=Object(o.useContext)(Pe.a),{goBack:r}=Object(b.a)(),l=Object(co.a)(w.a),s=e.onChange,d=t.onChange,u=Object(o.useMemo)(()=>{const e=a.value?[]:["recipient"];return i.value?["destinationTag",...e]:[...nt,...e]},[a.value,i.value]);return Object(o.useCallback)((e,t)=>{t?(l(u),s(e),d(t),c("send",t),i.value&&n.onChange(n.value)):Bugsnag.notify("Attempted to change account with unavailable asset"),r()},[r,l,u,s,d,i.value,c,n])}();return Object(n.a)(io.a,{flow:"SEND",header:Object(n.a)(lo,{marginBottom:a},void 0,Object(n.a)(P,{})),activeAccountId:t.value,onAccountSelect:i,targetFiatCurrency:e.value})}const lo=me.e.div.withConfig({displayName:"SelectAccountStep__HeaderWrapper",componentId:"sc-1d8gv8t-0"})(["",""],e=>e.marginBottom&&"\n    margin-bottom: 12px;\n  ");var so=a("xLjK");var uo=function(){const{additionalInfo:e}=Object(M.a)(w.a),{goBack:t}=Object(b.a)();return Object(n.a)(so.a,{additionalInfo:e.value,onBack:t,footer:Object(n.a)(Ot,{})})},bo=a("xc0K");function po({title:e,description:t,onSelect:a,isActive:o,disabled:i,iconUrl:c}){return Object(n.a)(bo.d,{disabled:i,active:o,align:"topAligned",onClick:a,"data-element-value":e},void 0,Object(n.a)(go,{width:32,height:32,src:c}),Object(n.a)(mo,{},void 0,Object(n.a)(Tn.a,{level:4,color:o?"accent":"dark",clamp:!0},void 0,e),Object(n.a)(st.a,{color:"light"},void 0,t)))}const mo=Object(me.e)(Te.a).attrs(()=>({justify:"flex-start",column:!0})).withConfig({displayName:"SendTypeRow__LeftColumn",componentId:"sc-142d0vb-0"})(["margin:0 12px;overflow:hidden;"]),go=(Object(me.e)(Te.a).attrs(()=>({justify:"flex-end",column:!0})).withConfig({displayName:"SendTypeRow__RightColumn",componentId:"sc-142d0vb-1"})(["flex:1 0 auto;text-align:right;"]),Object(me.e)(ya.a).withConfig({displayName:"SendTypeRow__StyledImage",componentId:"sc-142d0vb-2"})(["margin-top:3px;"])),fo=Object(T.c)({disclaimer:{id:"Send.SendTypeStep.disclaimer",defaultMessage:"You are sending to a Coinbase user. You can send on Coinbase or on the blockchain."},learnMore:{id:"Send.SendTypeStep.learnMore",defaultMessage:"Learn more about <sendMethods>send methods</sendMethods>"}});function vo(){const e=Object(x.a)(),{goBack:t}=Object(b.a)(),{sendType:a}=Object(M.a)(w.a),i=xt(),{formatMessage:c}=Object(re.a)(),[r]=C(),l=Object(o.useCallback)(e=>{a.onChange(e),r(),t()},[t,a,r]);return Object(n.a)(bo.c,{},void 0,Object(n.a)(ho,{marginBottom:e},void 0,Object(n.a)(P,{})),Object(n.a)(Oo,{},void 0,c(fo.disclaimer)),Object(n.a)(jo,{},void 0,Object.values(i).map(e=>Object(n.a)(po,{onSelect:()=>l(e.type),isActive:e.type===a.value,title:e.title,description:e.description,iconUrl:e.iconUrl}))),Object(n.a)(Oo,{},void 0,c(fo.learnMore,{sendMethods:e=>[Object(n.a)(yo,{color:"accent",href:"https://help.coinbase.com/en/coinbase/trading-and-funding/cryptocurrency-trading-pairs/how-to-send-and-receive-cryptocurrency",openInNewTab:!0,onClick:e=>e.stopPropagation()},"sendMethods",e)]})))}const Oo=Object(me.e)(st.a).withConfig({displayName:"SendTypeStep__StyledBody",componentId:"sc-16ky1w6-0"})(["padding:0 ",";"],({theme:e})=>e.size.huge),jo=Object(me.e)(bo.b).withConfig({displayName:"SendTypeStep__StyledListInner",componentId:"sc-16ky1w6-1"})(["margin:"," 0;flex:none;"],({theme:e})=>e.size.huge),ho=me.e.div.withConfig({displayName:"SendTypeStep__HeaderWrapper",componentId:"sc-16ky1w6-2"})(["",""],e=>e.marginBottom&&"\n    margin-bottom: 12px;\n  "),yo=Object(me.e)(xn.a).withConfig({displayName:"SendTypeStep__StyledLink",componentId:"sc-16ky1w6-3"})(["font-size:",";"],({theme:e})=>e.fontSize.small);var So=a("xNHB"),wo=a("Jwqf"),Co=a("Son0");function _o(){const{status:e}=Object(M.a)(w.a),t=e.onChange,a=function(){var e,t;const{accountId:a,commitData:n}=Object(M.a)(w.a);return a.value&&(null===(e=n.value)||void 0===e?void 0:e.id)?{accountId:a.value,id:null===(t=n.value)||void 0===t?void 0:t.id}:null}(),n=e.value&&["completed","canceled"].includes(e.value);Object(wo.a)(Co.a.detailShape(),n?null:a,2e4);const{data:i}=Object(So.a)(Co.a.detailShape(),a),c=null===i||void 0===i?void 0:i.status;Object(o.useEffect)(()=>{c&&t(c)},[c])}function ko({isGifting:e=!1}){var t,a,i,c;const r=Ke("send_view_transaction_tapped",{context:"confirmation"}),l=Ke("send_done_tapped",{context:"confirmation"}),s=Ke("send_confirmation_viewed",{context:"confirmation"}),{logSendModalRenderEvent:u,logSendFlowButtonPress:b}=Object(ve.a)();Object(o.useEffect)(()=>{u({flow:"send_confirmation"})},[]);const{status:p,accountId:m,commitError:g,commitData:f,isDonation:v}=Object(M.a)(w.a),{cryptoValue:O,fiatValue:j}=jn(g.value?"sendData":"commitData"),h=Object(L.b)(d.b),y=Object(E.h)(),S=Object(E.j)();_o();const C=Object(o.useCallback)(()=>{S?y():h()},[S,h,y]),_=Object(o.useCallback)(()=>{r(),b({flow:"send_confirmation",componentName:"view_transaction"}),C()},[C,r,b]),k=Object(o.useCallback)(()=>{l(),C()},[l,C]),I=Object(o.useCallback)(e=>{["loading","failure"].includes(e)||s()},[s]),T=Object(o.useMemo)(()=>{switch(p.value){case"waiting_for_signature":case"pending":case"expired":return"started";case"failed":case"canceled":return"canceled";case"completed":return"completed";case"waiting_for_clearing":return"delayed";default:return p.value&&Bugsnag.notify("Send status is unknown",{metaData:{status:p.value}}),p.value}},[p.value]),x=Object(o.useMemo)(()=>"delayed"===T,[T]),B=Object(o.useMemo)(()=>x?{backIconPosition:"right",showDesktop:!0}:{},[x]);return Object(n.a)(Io,{large:!x&&!v.value},void 0,Object(n.a)(Ee.G,{tradeData:{apiError:g.value,type:"send",sourceAmount:O,sourceAmountInFiat:j,status:T,accountId:m.value,transactionId:null===(t=f.value)||void 0===t?void 0:t.id,toAddress:null===(a=f.value)||void 0===a||null===(i=a.toDetails)||void 0===i?void 0:i.displayValue,description:null===(c=f.value)||void 0===c?void 0:c.description},onAnimationEnd:I,onRetry:h,onViewTransaction:_,onClose:k,showAnimation:!x,headerProps:B,footer:Object(n.a)(Ot,{}),isGifting:e}))}const Io=Object(me.e)(Te.a).attrs(()=>({auto:!0,column:!0})).withConfig({displayName:"StatusStep__Container",componentId:"sc-1k3rgso-0"})(["contain:content;",";"],e=>e.large?"min-height: 550px":"");var To=a("AaJB");const Mo=Object(T.c)({skip:{id:"Send.TagWarningStep.skip",defaultMessage:"Yes, I'm sure"},add:{id:"Send.TagWarningStep.add",defaultMessage:"Add {tagName}"},body:{id:"Send.TagWarningStep.body",defaultMessage:"Your {cryptoSymbol} may be lost if the {tagName} is required by your recipient and you don't include one. <a>Learn more.</a>"},title:{id:"Send.TagWarningStep.title",defaultMessage:"Are you sure the {tagName} isn't required?"}});function xo(){const{formatMessage:e}=Object(re.a)(),{cryptoSymbol:t}=Object(M.a)(w.a),a=function(){const e=tt();return(null===e||void 0===e?void 0:e.name)||""}(),[i]=C(),c=_(),{goToStep:r}=Object(b.a)(),l=Object(o.useCallback)(()=>{r("entryStep")},[r]);return Object(n.a)(Te.a,{auto:!0,column:!0},void 0,Object(n.a)(Ao,{paddingTopDesktop:Ee.q,paddingTopMobile:Ee.q},void 0,Object(n.a)(Ee.F,{size:"medium"}),Object(n.a)(Te.a,{auto:!0},void 0,Object(n.a)(Bo,{type:"failure"})),Object(n.a)(Ee.F,{size:48}),Object(n.a)(Tn.a,{level:3},void 0,e(Mo.title,{tagName:a})),Object(n.a)(Ee.F,{size:"large"}),Object(n.a)(st.a,{color:"light"},void 0,e(Mo.body,{a:e=>[Object(n.a)(No,{color:"accent",href:"https://help.coinbase.com/en/coinbase/trading-and-funding/sending-or-receiving-cryptocurrency/destination-tag-memo-faq",openInNewTab:!0},"one",e)],cryptoSymbol:t.value,tagName:a})),Object(n.a)(Ee.F,{size:"large"}),Object(n.a)(To.a,{fullWidth:!0,size:"large",onClick:l,"data-testid":"add-destination-tag"},void 0,e(Mo.add,{tagName:a})),Object(n.a)(Ee.F,{size:"large"}),Object(n.a)(To.a,{loading:c,onClick:i,size:"large",type:"light",fullWidth:!0,"data-testid":"skip-tag-warning"},void 0,e(Mo.skip,{tagName:a}))),Object(n.a)(Ot,{}))}const Eo="120px",Bo=Object(me.e)(Jn.a).withConfig({displayName:"TagWarningStep__FailureTick",componentId:"v1sa7e-0"})(["height:",";width:",";"],Eo,Eo),No=Object(me.e)(xn.a).withConfig({displayName:"TagWarningStep__LabelLink",componentId:"v1sa7e-1"})(["font-size:",";"],e=>e.theme.fontSize.small),Ao=Object(me.e)(Ee.s).withConfig({displayName:"TagWarningStep__StyledPaddedContent",componentId:"v1sa7e-2"})(["text-align:center;align-items:center;"]),Fo=Object(T.c)({instructions:{id:"Send.TopUpStep.instructions",defaultMessage:"Select a payment method below."}});function Do(){const{formatMessage:e}=Object(re.a)(),t=Fa(),a=Object(o.useRef)(t),i=Object(So.a)(J.a.services.Sends.previewSendAmount(),a.current),{description:c=""}=i;return Object(n.a)(Te.a,{auto:!0,column:!0},void 0,Object(n.a)(P,{}),Object(n.a)(Ro,{},void 0,Object(n.a)(Po,{},void 0," ",c," "),e(Fo.instructions)))}const Ro=me.e.div.withConfig({displayName:"TopUpStep__Instructions",componentId:"tx39ie-0"})(["padding:0 24px;line-height:24px;"]),Po=me.e.span.withConfig({displayName:"TopUpStep__Description",componentId:"tx39ie-1"})(["margin-right:4px;"]);var zo=a("3mtq");function Lo(){Ye("send_2fa_viewed",{context:"two_factor"});const e=Ke("send_2fa_confirmed",{context:"two_factor"}),{logSendFlowButtonPress:t,logSendModalRenderEvent:a}=Object(ve.a)(),{twoFactorCode:i}=Object(M.a)(w.a),[c]=C(),r=_();Object(o.useEffect)(()=>{a({flow:"send_2fa"})},[]);const l=Object(o.useCallback)(async()=>{e(),t({flow:"send_2fa",componentName:"confirm"}),await c()},[c,e,t]),s=Object(Z.a)("aug_2021_web_send_improved_2fa","treatment");return Object(n.a)(zo.a,{header:Object(n.a)(P,{}),footer:Object(n.a)(Ot,{}),twoFactorCode:i,loading:r,onSubmit:l,errorBorder:s?"negative":"warning",customInlineErrorMessages:s})}var Wo=a("kfjg"),Vo=a.p+"link-wallet.0b609fed9a2df7c11e300e5af3b8db52.png";const Ho=Object(T.c)({transferCrypto:{id:"SendFlowWalletUpsellStep.transferCrypto",defaultMessage:"Easily transfer your crypto to Coinbase Wallet"},transferCryptoDescription:{id:"SendFlowWalletUpsellStep.transferCryptoDescription",defaultMessage:"Coinbase Wallet is a secure app that lets you store your crypto assets yourself. To transfer your crypto, download the app and connect it to Coinbase."},skip:{id:"SendFlowWalletUpsellStep.skip",defaultMessage:"Skip"},done:{id:"SendFlowWalletUpsellStep.done",defaultMessage:"Done"}});function Uo(){const{formatMessage:e}=Object(re.a)(),{goToStep:t}=Object(b.a)(),a=Object(E.h)(),c=Qe({componentName:"skip"}),r=Qe({componentName:"done"}),l=Object(o.useCallback)(()=>{c(),t("entryStep")},[c,t]),s=Object(o.useCallback)(()=>{r(),a()},[r,a]);return i.a.createElement(i.a.Fragment,null,Object(n.a)(P,{}),Object(n.a)(de.VStack,{alignItems:"center",width:"100%",height:"100%",spacingHorizontal:3,justifyContent:"space-between"},void 0,Object(n.a)(de.VStack,{height:"auto",alignItems:"center"},void 0,Object(n.a)(ya.a,{width:200,height:140,src:Vo}),Object(n.a)(Ca.TextHeadline,{as:"p",align:"center",spacingVertical:2,spacingHorizontal:7},void 0,e(Ho.transferCrypto)),Object(n.a)(ue.TextBody,{as:"p",align:"center",color:"foregroundMuted",spacingBottom:3},void 0,e(Ho.transferCryptoDescription))),Object(n.a)(de.VStack,{width:"100%"},void 0,Object(n.a)(Wo.ButtonGroup,{block:!0,accessibilityLabel:"Group"},void 0,Object(n.a)(le.Button,{variant:"secondary",onPress:l},void 0,e(Ho.skip)),Object(n.a)(le.Button,{onPress:s},void 0,e(Ho.done))))),Object(n.a)(Ot,{}))}var Go=Object(o.memo)(Uo);const{Step:qo,Steps:Xo}=b.b,Ko=["previewStep","topUpStep","selectAccountStep","availableBalanceStep","tagWarningStep","twoFactorStep","statusStep","sendTypeStep","scamWarningStep","feesInfo","networkFeesInfo"];function Yo({accountId:e,entryPoint:t,initialValues:a,isGifting:i=!1}){Object(m.a)(e=>e(g.b)({type:"sends",errorClass:O.a}),e=>e(p.a)(f.a.Accounts.getAccounts,{type:"SEND",pageOptions:null}));const c=Object(v.a)(Ko,"send"),r=function({initialValues:e,accountId:t}){const a=Object(V.a)(),{defaultAccount:n}=Object(G.a)(X),i=null!=t?t:null===n||void 0===n?void 0:n.id,c=Object(H.a)(i,X),r=Object(U.a)(null===c||void 0===c?void 0:c.id,X),l=Object.assign({},w.b,e);return Object(o.useMemo)(()=>{const e=(()=>{var e,t,a;switch(!0){case!!(null===l||void 0===l?void 0:l.amount):return l.amount;case c&&(null===l||void 0===l?void 0:l.isSendingMax):return null!=(e=null===c||void 0===c||null===(t=c.availableToSendFiat)||void 0===t?void 0:t.value)?e:"0";case Boolean(c&&(null===l||void 0===l?void 0:l.isDonation)&&(null===l||void 0===l?void 0:l.amount)):return Object(q.b)({balance:Number((null===c||void 0===c||null===(a=c.availableToSendFiat)||void 0===a?void 0:a.value)||0),target:l.amount});default:return"0"}})();return c&&r?Object.assign({},l,{amount:e.toString(),accountId:c.id,fiatCode:a.nativeCurrency,cryptoSymbol:null===r||void 0===r?void 0:r.symbol}):null},[l,c,a.nativeCurrency,r])}({initialValues:a,accountId:e}),l=ce(),{goToStep:s}=Object(b.a)(),[d,u]=Object(o.useState)(),h=Object(o.useCallback)(e=>{u(e),s("artCardInfo")},[s,u]);return r?Object(n.a)(w.a.Provider,{initialValues:r,onSubmit:l},void 0,Object(n.a)(W,{},void 0,Object(n.a)(j.a,{stepper:b.b,overlaySteps:c},void 0,Object(n.a)(y,{},void 0,Object(n.a)(Xo,{},void 0,Object(n.a)(qo,{},"giftingRouting",Object(n.a)(nn,{entryPoint:t})),Object(n.a)(qo,{},"giftingInterstitial",Object(n.a)($a,{entryPoint:t})),Object(n.a)(qo,{},"giftingEntryStep",Object(n.a)(za,{isGifting:!0})),Object(n.a)(qo,{},"giftingNoteStep",Object(n.a)(gn,{})),Object(n.a)(qo,{},"giftingArtCardSelectStep",Object(n.a)(Ie,{onArtInfoClick:h})),Object(n.a)(qo,{},"giftingPreviewStep",Object(n.a)(qn,{isGifting:!0})),Object(n.a)(qo,{},"entryStep",Object(n.a)(za,{})),Object(n.a)(qo,{},"noteInfo",Object(n.a)(dn,{})),Object(n.a)(qo,{},"artCardInfo",Object(n.a)(pe,{title:null===d||void 0===d?void 0:d.artistName,content:null===d||void 0===d?void 0:d.artistBio})),Object(n.a)(qo,{},"principalInsolvency",Object(n.a)(Kn,{})),Object(n.a)(qo,{},"walletUpsellStep",Object(n.a)(Go,{})),Object(n.a)(qo,{},"topUpStep",Object(n.a)(Do,{})),Object(n.a)(qo,{},"availableBalanceStep",Object(n.a)(Ne,{header:Object(n.a)(P,{})})),Object(n.a)(qo,{},"selectAccountStep",Object(n.a)(ro,{})),Object(n.a)(qo,{},"sendTypeStep",Object(n.a)(vo,{})),Object(n.a)(qo,{},"tagWarningStep",Object(n.a)(xo,{})),Object(n.a)(qo,{},"previewStep",Object(n.a)(qn,{})),Object(n.a)(qo,{},"twoFactorStep",Object(n.a)(Lo,{})),Object(n.a)(qo,{},"statusStep",Object(n.a)(ko,{isGifting:i})),Object(n.a)(qo,{},"scamWarningStep",Object(n.a)(eo,{})),Object(n.a)(qo,{},"additionalInfo",Object(n.a)(uo,{})),Object(n.a)(qo,{},"feesInfo",Object(n.a)(Ha,{})),Object(n.a)(qo,{},"networkFeesInfo",Object(n.a)(rn,{}))))))):null}var Qo=Object(o.memo)(Yo);function Jo({accountId:e,entryPoint:t,initialValues:a,sendType:o="default"}){return Object(n.a)(d.b.Provider,{},void 0,Object(n.a)(u.b,{boundaryName:"send"},void 0,Object(n.a)(b.b.Provider,{defaultStep:"gifting"===o?"giftingRouting":"entryStep"},void 0,Object(n.a)(r,{},void 0,Object(n.a)(Qo,{accountId:e,initialValues:a,entryPoint:t,isGifting:"gifting"===o})))))}},"CB+/":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("mXGw");var o=function(e,t){const a=Object(n.useRef)(!0);return Object(n.useEffect)(()=>(a.current=!0,()=>{a.current=!1}),[]),Object(n.useCallback)(()=>{a.current&&e()},t)};function i(e){const[t,a]=Object(n.useState)(!1),i=Object(n.useRef)(0),c=o(()=>{clearTimeout(i.current),a(!0),i.current=setTimeout(()=>{a(!1)},e)},[e]);return Object(n.useEffect)(()=>()=>{clearTimeout(i.current)},[]),[t,c]}},EmNC:function(e,t,a){"use strict";var n=a("mXGw");t.a=function(e,t,a=!0){const[o,i]=Object(n.useState)(e);return Object(n.useEffect)(()=>{if(!a)return;const n=setTimeout(()=>{i(e)},t);return()=>{clearTimeout(n)}},[e,t,a]),o}},HT0s:function(e,t,a){"use strict";var n=a("5n0U");a("mXGw");const o=a("UutA").e.ul.withConfig({displayName:"List__StyledList",componentId:"sc-1k24lnd-0"})(["",";"],({removeStyles:e})=>e?"\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  ":"\n    list-style: square;\n    padding-inline-start: 18px;\n  ");t.a=({children:e,className:t,removeStyles:a})=>Object(n.a)(o,{removeStyles:a,className:t},void 0,e)},IshH:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("mXGw");function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var i=n.createElement("path",{d:"M2.05 3.062L.933 4.176l2.629 2.627a.789.789 0 001.115 0L9.934 1.55 8.82.434 4.12 5.131z"});function c(e){return n.createElement("svg",o({height:7,viewBox:"0 0 10 7",width:10},e),i)}a.p},JZhg:function(e,t,a){"use strict";var n=a("xRJQ");t.a=Object(n.a)(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},Jwqf:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("mXGw"),o=a("FTEm"),i=a("CB+/");function c(e,t,a){const[c,r]=Object(i.a)(a);Object(n.useEffect)(()=>{t&&r()},[r,t&&e.getFetchKey(t)]),Object(o.a)(e,c?t:null)}},KYNS:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("uddp");class o extends n.b{constructor(...e){super(...e),this.balances=[],this.flags=[],this.promo=null,this.recentTransactions=void 0,this.remainingVerifications=null}pk(){return"the_only_one"}static url(){return this.urlRoot}}o.urlRoot="/v2/app/dashboard"},O9aY:function(e,t,a){"use strict";var n=a("+I+c"),o=a("5n0U"),i=a("mXGw"),c=a("UutA"),r=a("IshH");const l=({selected:e,className:t,onClick:a,size:n,showError:c,type:r="multiple",inverted:l,ariaLabel:u})=>{const b=Object(i.useCallback)(()=>{a&&a(!e)},[a,e]);return Object(o.a)(s,{className:t,selected:e,"data-type":r,type:"button",onClick:b,size:n,showError:c,role:"checkbox",inverted:l,"aria-checked":e,"aria-label":u||""},void 0,e?Object(o.a)(d,{type:r,inverted:l}):null)},s=c.e.button.withConfig({displayName:"CheckBox__Container",componentId:"v393q1-0"})(["",""],e=>{let{theme:t,size:a,selected:o,showError:i,inverted:r}=e,l=Object(n.a)(e,["theme","size","selected","showError","inverted"]);return Object(c.d)(["position:relative;cursor:pointer;user-select:none;-webkit-touch-callout:none;display:flex;align-items:center;justify-content:center;&.js-focus-visible:focus:not(.focus-visible){outline:none;}:focus-visible{outline:auto 2px Highlight;outline:auto 5px -webkit-focus-ring-color;}&:active{box-shadow:0 0 0 2px ",",0 0 0 4px ",";}",";border-radius:",";border:2px solid ",";background-color:",";"],t.color.white,t.color.buttonFillActive,()=>{const e=t.fontSize["small"===a?"small":"huge"];return`\n      width: ${e};\n      min-width: ${e};\n      height: ${e};\n    `},"multiple"===l["data-type"]?"4px":"100%",()=>i&&!o?t.color.negative:o?t.color.iconFill:"rgba(91, 99, 110, 0.66)",o&&!r?t.color.iconFill:t.color.white)}),d=Object(c.e)(r.a).withConfig({displayName:"CheckBox__CheckMark",componentId:"v393q1-1"})(["display:block;width:",";height:",";fill:",";"],e=>"multiple"===e.type?"14px":"13px",e=>"multiple"===e.type?"11px":"9px",({theme:e,inverted:t})=>t?e.color.iconFill:e.color.white);t.a=Object(i.memo)(l)},PRZD:function(e,t,a){"use strict";a.r(t);const n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"name"}],t={alias:null,args:[{kind:"Variable",name:"name",variableName:"name"}],concreteType:"EnsNameResolution",kind:"LinkedField",name:"ensNameResolution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"address",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useLookupAddressFromEnsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[t],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useLookupAddressFromEnsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"8aac2d89e33966eca4cad04604fc5274f494ef3f318fb846cb5d646404e499e3",metadata:{},name:"useLookupAddressFromEnsQuery",operationKind:"query",text:null}}}();n.hash="88f91b3f982b37ea97d580c6ac638537",t.default=n},TUp2:function(e,t,a){"use strict";var n,o,i,c,r,l,s,d,u,b,p,m=a("AmAS"),g=a("tB06"),f=(a("N3FF"),a("cneo"));let v=(n=class{get hasErrors(){return this.validationErrors.length>0}get error(){return this.hasErrors?this.validationErrors[0]:void 0}get showErrors(){const e=!this.validateOnBlur||!this.focused&&this.dirty;return(this.validateOnBlur&&!this.focused||!this.validateOnBlur)&&e&&this.hasErrors&&this.dirty}get showInlineErrorMessage(){return this.showErrors&&!!this.error&&!this.hideInlineErrorMessages}constructor({validators:e,onChange:t,onValid:a,onInvalid:n,focused:g,dirty:f,validateOnBlur:v,hideInlineErrorMessages:O,managedByForm:j,fireValidationCallbacks:h}){Object(m.a)(this,"validationErrors",o,this),Object(m.a)(this,"focused",i,this),Object(m.a)(this,"dirty",c,this),Object(m.a)(this,"validateOnBlur",r,this),Object(m.a)(this,"hideInlineErrorMessages",l,this),this.managedByForm=!1,this.fireValidationCallbacks=void 0,this.validators=new Map,this.onChange=void 0,this.onValid=void 0,this.onInvalid=void 0,Object(m.a)(this,"handleChange",s,this),Object(m.a)(this,"handleFocus",d,this),Object(m.a)(this,"handleBlur",u,this),Object(m.a)(this,"markDirty",b,this),Object(m.a)(this,"validate",p,this),this.validators=new Map(e),this.onChange=t,a&&(this.onValid=a),n&&(this.onInvalid=n),this.focused=g,this.dirty=f,this.validateOnBlur=v,this.hideInlineErrorMessages=O,this.managedByForm=j,h&&(this.fireValidationCallbacks=h)}},o=Object(g.a)(n.prototype,"validationErrors",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=Object(g.a)(n.prototype,"focused",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=Object(g.a)(n.prototype,"dirty",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),r=Object(g.a)(n.prototype,"validateOnBlur",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=Object(g.a)(n.prototype,"hideInlineErrorMessages",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(g.a)(n.prototype,"hasErrors",[f.e],Object.getOwnPropertyDescriptor(n.prototype,"hasErrors"),n.prototype),Object(g.a)(n.prototype,"error",[f.e],Object.getOwnPropertyDescriptor(n.prototype,"error"),n.prototype),Object(g.a)(n.prototype,"showErrors",[f.e],Object.getOwnPropertyDescriptor(n.prototype,"showErrors"),n.prototype),Object(g.a)(n.prototype,"showInlineErrorMessage",[f.e],Object.getOwnPropertyDescriptor(n.prototype,"showInlineErrorMessage"),n.prototype),s=Object(g.a)(n.prototype,"handleChange",[f.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.focused&&(this.markDirty(),this.onChange&&this.onChange(e))}}}),d=Object(g.a)(n.prototype,"handleFocus",[f.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.focused=!0}}}),u=Object(g.a)(n.prototype,"handleBlur",[f.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.focused=!1,this.fireValidationCallbacks&&this.fireValidationCallbacks()}}}),b=Object(g.a)(n.prototype,"markDirty",[f.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.dirty=!0}}}),p=Object(g.a)(n.prototype,"validate",[f.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t={})=>{(null===t||void 0===t?void 0:t.force)&&(this.dirty=!0);const a=[];for(const[n,o]of this.validators.entries()){!0!==n(e)&&o&&a.push(o)}return t.soft||(this.validationErrors=a,this.hasErrors&&this.onInvalid?this.onInvalid(a):this.onValid&&this.onValid()),0===a.length}}}),n);t.a=v},X4gq:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("mXGw"),o=a("/PpR"),i=a("rOHf"),c=a("NRCK"),r=a("3VeJ"),l=a("xJqp");function s(e){const[t,a,s]=Object(o.a)(t=>t(r.a)(e),e=>e(c.c)({isRequired:!1}),e=>e(i.a)()),d=Object(l.a)({assetSymbol:e,totalHoldBalance:a,aggregateAccounts:s});return Object(n.useMemo)(()=>Math.max(0,t-d),[t,d])}},XrP9:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return r})),a.d(t,"d",(function(){return l}));var n=a("QLaP"),o=a.n(n);const i=e=>{let t;t="string"===typeof e?new Date(e):e,o()(t instanceof Date,"Must provide valid date object or string");const a=Date.now(),n=Math.abs(a-t.getTime());return Math.round(n/864e5)},c=e=>e.replace(/\s/,"T"),r=()=>Intl.DateTimeFormat().resolvedOptions().timeZone,l=(e,t)=>new Date(new Date(e).toLocaleString("en-US",{timeZone:t})).getTime()},ZJfh:function(e,t,a){"use strict";var n=a("mXGw");t.a=({rootMargin:e,threshold:t=0}={})=>{const a=Object(n.useRef)(null),[o,i]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{if("undefined"===typeof IntersectionObserver||!a.current)return void i(!1);const n=new IntersectionObserver(([e])=>{i(e.isIntersecting)},{rootMargin:e,threshold:t});return n.observe(a.current),()=>n.disconnect()},[a.current,e,t]),{inView:o,ref:a}}},ckIB:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("mXGw"),o=a("vaWR");function i(e){const t=Object(o.a)(e);return Object(n.useMemo)(()=>!!t&&parseFloat(t.balance.amount)>0,[t])}},"f8+8":function(e,t,a){"use strict";var n=a("5n0U"),o=a("mXGw"),i=a("gN02"),c=a("j7F+"),r=a("hqqT"),l=a("FQEq"),s=a("i7H4"),d=a("hWgQ");var u=Object(d.c)({availableBalance:{id:"BuySellComponents.availableBalance",defaultMessage:"{assetSymbol} available"}});function b({assetSymbol:e,onBalanceClick:t}){const{formatMessage:a}=Object(i.a)();return Object(n.a)(c.a,{onClick:t},void 0,Object(n.a)(l.HStack,{alignItems:"center"},void 0,Object(n.a)(s.TextLabel2,{as:"p",color:"foregroundMuted"},void 0,a(u.availableBalance,{assetSymbol:e})),Object(n.a)(r.Icon,{name:"questionMark",size:"xs",color:"foregroundMuted",spacingStart:1})))}t.a=Object(o.memo)(b)},hIT1:function(e,t,a){"use strict";t.a=function(e){let t=!1;const a=new Promise(()=>{});return{cancel:()=>{t=!0},promise:e.then(e=>t?a:e).catch(e=>{if(t)return a;throw e})}}},hLKW:function(e,t,a){"use strict";var n=a("5n0U"),o=a("mXGw"),i=a.n(o),c=a("o58U"),r=a("UutA"),l=a("iiUS"),s=a("NRCK"),d=a("vaWR"),u=a("gN02"),b=a("kSTq"),p=a("j7F+"),m=a("WI56"),g=a("q1EX"),f=a("RDNY"),v=a("B05N"),O=a("L16Z"),j=a("5vQi"),h=a("5ezY");const y=Object(r.e)(v.a).attrs(()=>({level:5})).withConfig({displayName:"balanceStyles__Title",componentId:"vic0mc-0"})(["margin:0;"]),S=Object(r.e)(h.a).attrs(()=>({size:"tiny",color:"slate"})).withConfig({displayName:"balanceStyles__Detail",componentId:"vic0mc-1"})(["margin-top:4px;"]),w=Object(r.d)(["&:not(:last-child){margin-bottom:12px;}"]),C=r.e.div.withConfig({displayName:"balanceStyles__SingleRow",componentId:"vic0mc-2"})(["",""],w),_=Object(r.e)(m.a).attrs({justify:"space-between"}).withConfig({displayName:"balanceStyles__Row",componentId:"vic0mc-3"})(["padding:14px 0;",";"],e=>e.noBottomPadding&&"padding-bottom: 0");function k({label:e,amount:t,tooltip:a,hasItems:o}){const i=Object(j.a)();return Object(n.a)(_,{noBottomPadding:o},void 0,Object(n.a)(x,{},void 0,Object(n.a)(M,{level:5},void 0,e),a&&Object(n.a)(I,{isDark:!0,isSmall:!0,position:"bottom",align:"right",content:Object(n.a)(b.a,{},void 0,a)},void 0,Object(n.a)(T,{}))),Object(n.a)(M,{level:5},void 0,i({amount:t,isFiat:!0})))}const I=Object(r.e)(f.a).withConfig({displayName:"HeaderBalanceRow__FlexTooltipTrigger",componentId:"l8v474-0"})(["display:flex;margin-bottom:2px;"]),T=Object(r.e)(O.a).withConfig({displayName:"HeaderBalanceRow__StyledInfoIcon",componentId:"l8v474-1"})(["width:14px;height:14px;margin-left:",";"],e=>e.theme.size.medium),M=Object(r.e)(v.a).withConfig({displayName:"HeaderBalanceRow__BalanceHeader",componentId:"l8v474-2"})(["font-weight:",";"],e=>e.theme.fontWeight.demiBold),x=r.e.div.withConfig({displayName:"HeaderBalanceRow__BalanceHeaderContainer",componentId:"l8v474-3"})(["display:inline-flex;align-items:flex-end;"]);var E=Object(o.memo)(k);function B({label:e,amount:t}){const a=Object(j.a)();return Object(n.a)(_,{},void 0,Object(n.a)(b.a,{color:"light"},void 0,e),Object(n.a)(b.a,{color:"light"},void 0,a({amount:t,isFiat:!0})))}var N=Object(o.memo)(B);function A({sections:e}){const{formatMessage:t}=Object(u.a)();return Object(n.a)(l.VStack,{},void 0,Object(n.a)(b.a,{color:"light",marginBottom:"lg"},void 0,t(g.a.someFundsUnavailable,{a:(...e)=>[Object(n.a)(F,{color:"accent",href:"https://support.coinbase.com/customer/en/portal/articles/2929801-available-balance-faq",openInNewTab:!0},void 0,e)]})),e.map((t,a)=>{const o=t.items.filter(e=>0!==parseFloat(e.amount.value));return Object(n.a)(D,{column:!0,hasBorderBottom:a<e.length-1},t.header.label,i.a.createElement(E,Object.assign({},t.header,{hasItems:o.length>0})),o.map(e=>i.a.createElement(N,Object.assign({key:e.label},e))))}))}const F=Object(r.e)(p.a).withConfig({displayName:"BalanceDetails__StyledLink",componentId:"sc-1kmxf3i-0"})(["font-size:",";"],e=>e.theme.fontSize.small),D=Object(r.e)(m.a).attrs({column:!0}).withConfig({displayName:"BalanceDetails__Section",componentId:"sc-1kmxf3i-1"})(["",";"],e=>e.hasBorderBottom&&"border-bottom: "+e.theme.border.border);var R=Object(o.memo)(A),P=a("QXTa"),z=a("cqL8");var L=a("7rk+");function W({className:e}){const{formatMessage:t}=Object(u.a)(),a=Object(L.a)(),i=Object(P.a)(),c=function(){const e=Object(z.b)();return Object(o.useMemo)(()=>(e||[]).filter(e=>"collateral"===e.type&&parseFloat(e.balance.amount)>0),[e])}();return Object(n.a)(l.VStack,{dangerouslySetClassName:e},void 0,c.map(o=>{const{amount:c,fiatAmount:r}=i({balance:o.balance,exponent:o.currency.exponent,fiatCurrency:a});return Object(n.a)(C,{className:e},o.id,Object(n.a)(m.a,{justify:"space-between"},void 0,Object(n.a)(y,{},void 0,t(g.a.loanCollateral)),Object(n.a)(y,{},void 0,r," (",c,")")),Object(n.a)(S,{},void 0,t(g.a.loanCollateralDetail)))}))}var V=Object(o.memo)(W),H=a("hWgQ"),U=a("V21s"),G=a("+I+c");const q=Object(r.e)(m.a).withConfig({displayName:"Row__Left",componentId:"bvuy43-0"})(["flex:0 0 50%;flex-direction:column;"]),X=Object(r.e)(m.a).withConfig({displayName:"Row__Right",componentId:"bvuy43-1"})(["flex:0 0 50%;flex-direction:column;align-items:flex-end;"]);var K=e=>{let{children:t}=e,a=Object(G.a)(e,["children"]);return i.a.createElement(m.a,Object.assign({auto:!0},a),Object(n.a)(q,{},void 0,i.a.Children.toArray(t)[0]),Object(n.a)(X,{},void 0,i.a.Children.toArray(t)[1]))};const Y=Object(H.c)({availableToSendIn:{id:"AvailableBalance.availableToSendIn",defaultMessage:"Available to send in {availableIn}"},holdInfoDate:{id:"AvailableBalance.holdInfoDate",defaultMessage:"{currency} {resource} on"}}),Q=({hold:e})=>{const{formatDate:t,formatMessage:a}=Object(u.a)(),{date:o,amount:i,availableIn:c,transfer:r}=e;return Object(n.a)(Z,{},void 0,Object(n.a)(l.VStack,{flexGrow:1,flexShrink:1,flexBasis:"auto"},void 0,Object(n.a)("div",{},void 0,Object(n.a)(y,{},void 0,a(Y.holdInfoDate,r)," ",t(o,{year:"numeric",month:"short",day:"2-digit"}))),Object(n.a)("div",{},void 0,Object(n.a)(S,{},void 0,a(Y.availableToSendIn,{availableIn:Object(n.a)(J,{},void 0,c)})))),Object(n.a)(m.a,{auto:!0,align:"center"},void 0,Object(n.a)(y,{},void 0,Object(n.a)(U.a,{amount:i.value,currency:i.currency}))))},J=r.e.b.withConfig({displayName:"Hold__Bold",componentId:"sc-1ri8h1l-0"})(["font-weight:",";"],e=>e.theme.fontWeight.demiBold),Z=Object(r.e)(K).withConfig({displayName:"Hold__HoldRow",componentId:"sc-1ri8h1l-1"})(["padding:12px 0;&:not(:first-child){border-top:",";}&:last-child{padding-bottom:0;}"],e=>e.theme.border.border);var $=Object(o.memo)(Q);function ee({pendingHolds:e,hideDescription:t,className:a}){const{formatMessage:o}=Object(u.a)();return 0===e.length?null:Object(n.a)(l.VStack,{dangerouslySetClassName:a},void 0,Object(n.a)(C,{},void 0,Object(n.a)(y,{},void 0,o(g.a.pendingDeposits)),!t&&Object(n.a)(S,{},void 0,o(g.a.pendingDepositsDetail,{learnMore:e=>[Object(n.a)(te,{href:"https://support.coinbase.com/customer/en/portal/articles/2929801-available-balance-faq",openInNewTab:!0},void 0,e)]}))),e.map(e=>Object(n.a)($,{hold:e},e.date)))}const te=Object(r.e)(p.a).withConfig({displayName:"HoldDetails__SupportLink",componentId:"sc-54vpkw-0"})(["color:inherit;font-size:inherit;text-decoration:underline;"]);var ae=Object(o.memo)(ee),ne=a("/PpR"),oe=a("rOHf"),ie=a("aL/I"),ce=a("CTGU"),re=a("X4gq"),le=a("3VeJ"),se=a("ipi0"),de=a("ZTF7"),ue=a("xJqp");function be(e){const{formatMessage:t}=Object(u.a)(),a=Object(L.a)(),[{totalBalance:n,collateralInFiat:i,vaultBalanceInFiat:c},r,l,d,b,p,m]=Object(ne.a)(t=>t(se.a)(e),e=>e(s.c)({isRequired:!1}),t=>t(le.a)(e),t=>t(re.a)(e),e=>e(ie.a)(),e=>e(ce.a)(),e=>e(oe.a)()),f=Object(ue.a)({assetSymbol:e,totalHoldBalance:r,aggregateAccounts:m}),v=Math.min(l,f),O=Object(de.a)({openOrders:p,assetSymbol:e}),j=Object(o.useMemo)(()=>{const n=[{label:t(g.a.loanCollateral),amount:{value:String(-i),currency:a}}];if(c>0&&n.push({label:t(g.a.vaultBalance),amount:{value:String(-c),currency:a}}),!e&&b.totalBalance>0){const{totalBalance:e}=b;n.push({label:t(g.a.eth2Balance),amount:{value:String(-e),currency:a}})}return O>0&&n.push({label:t(g.a.openOrders),amount:{value:String(-O),currency:a}}),n},[e,i,b,a,c,t,O]),h=Object(o.useMemo)(()=>({header:{label:e?t(g.a.totalAssetBalance,{assetSymbol:e}):t(g.a.totalPortfolioBalance),amount:{value:String(n),currency:a}},items:j}),[t,n,a,j,e]),y=Object(o.useMemo)(()=>({header:{label:t(g.a.availableToTrade),tooltip:t(g.a.tradeTooltip),amount:{value:String(l),currency:a}},items:[{label:t(g.a.pendingDeposits),amount:{value:String(-v),currency:a}}]}),[t,l,a,v]),S=Object(o.useMemo)(()=>({header:{label:t(g.a.availableToSend),tooltip:t(g.a.sendTooltip),amount:{value:String(d),currency:a}},items:[]}),[t,d,a]);return Object(o.useMemo)(()=>({sections:[h,y,S]}),[h,y,S])}const pe=({hidePendingHolds:e,assetSymbol:t})=>{const a=Object(s.b)(),{sections:o}=be(t),i=Object(d.a)(t);return Object(n.a)(l.VStack,{},void 0,Object(n.a)(R,{sections:o}),!e&&Object(n.a)(me,{pendingHolds:a,hideDescription:!0}),i&&Object(n.a)(ge,{}))},me=Object(r.e)(ae).withConfig({displayName:"AvailableBalanceForAsset__StyledHoldDetails",componentId:"bj7tp0-0"})(["padding-top:",";"],e=>e.theme.size.enormous),ge=Object(r.e)(V).withConfig({displayName:"AvailableBalanceForAsset__StyledCollateralDetails",componentId:"bj7tp0-1"})(["padding-top:",";"],e=>e.theme.size.enormous);var fe=Object(o.memo)(pe);const ve=({hidePendingHolds:e})=>{const t=Object(s.b)(),{sections:a}=be();return Object(n.a)(l.VStack,{},void 0,Object(n.a)(R,{sections:a}),!e&&Object(n.a)(Oe,{pendingHolds:t,hideDescription:!0}),Object(n.a)(je,{}))},Oe=Object(r.e)(ae).withConfig({displayName:"AvailableBalanceOverview__StyledHoldDetails",componentId:"sc-1d5z2r-0"})(["padding-top:",";"],e=>e.theme.size.enormous),je=Object(r.e)(V).withConfig({displayName:"AvailableBalanceOverview__StyledCollateralDetails",componentId:"sc-1d5z2r-1"})(["padding-top:",";"],e=>e.theme.size.enormous);var he=Object(o.memo)(ve);const ye=({assetSymbol:e,hidePendingHolds:t})=>Object(n.a)(c.a,{boundaryName:"AvailableBalance"},void 0,e?Object(n.a)(fe,{hidePendingHolds:t,assetSymbol:e}):Object(n.a)(he,{hidePendingHolds:t}));t.a=Object(o.memo)(ye)},iKd7:function(e,t,a){"use strict";var n=a("5n0U"),o=a("mXGw"),i=a("hWgQ"),c=a("gN02"),r=a("UutA"),l=a("j7F+"),s=a("3Fxd"),d=a("iiUS"),u=a("zQX7"),b=a("O8JI");const p=Object(i.c)({back:{id:"InfoStep.gotIt",defaultMessage:"Got it"}}),m=({goBackHandler:e,content:t={}})=>{const{formatMessage:a}=Object(c.a)(),{title:o,message:i,cta:{url:r,text:b}={},dismiss:m}=t;return Object(n.a)(d.VStack,{height:"100%",flexGrow:1},void 0,Object(n.a)(g,{goBack:e,title:o}),Object(n.a)(d.VStack,{spacing:3,alignItems:"center",justifyContent:"space-between",height:"100%",flexGrow:1},void 0,Object(n.a)(d.VStack,{},void 0,Object(n.a)(u.TextBody,{as:"p",color:"foregroundMuted",overflow:"clip"},void 0,i," ",r&&Object(n.a)(l.a,{href:r,color:"accent",openInNewTab:!0},void 0,b))),Object(n.a)(s.Button,{onPress:e,variant:"secondary",block:!0},void 0,m||a(p.back))))},g=Object(r.e)(b.h).withConfig({displayName:"InfoStep__StyledHeader",componentId:"sc-1ac1yiz-0"})(["h3{max-width:70%;text-align:center;}"]);var f=Object(o.memo)(m);t.a=f},lXwP:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return l}));var n=a("mXGw"),o=a("O0l7"),i=a("PPLV");function c(e){const t=Object(o.a)(e),a=Object.keys(t),c=Object(i.a)(e,a);return Object(n.useMemo)(()=>{const e={};for(const n of a)t[n].isDirty&&(e[n]=c[n]);return e},[t,c,a])}function r(e){const t=Object(o.a)(e),a=Object.keys(t),n={};for(const o of a)n[o]=t[o].value;return n}function l(e){const t=Object(o.a)(e);return Object(n.useCallback)(e=>{e.forEach(e=>{t[e].onChange(t[e].value)})},[t])}},ou6W:function(e,t,a){"use strict";var n=a("mXGw");const o=Object(n.createContext)({selectedContact:void 0,setSelectedContact:()=>{}});t.a=o},q1EX:function(e,t,a){"use strict";var n=a("hWgQ");t.a=Object(n.c)({portfolioBalance:{id:"AvailableBalance.portfolioBalance",defaultMessage:"Portfolio balance"},openOrders:{id:"AvailableBalance.openOrders",defaultMessage:"Open orders"},vaultBalance:{id:"AvailableBalance.vaultBalance",defaultMessage:"Vault Balance"},totalPortfolioBalance:{id:"AvailableBalance.totalPortfolioBalance",defaultMessage:"Total portfolio balance"},availableToUse:{id:"AvailableBalance.availableToUse",defaultMessage:"Available to use"},pendingDeposits:{id:"AvailableBalance.pendingDeposits",defaultMessage:"Pending transfers"},pendingDepositsDetail:{id:"AvailableBalance.pendingDepositsDetail",defaultMessage:"Some of your funds may be temporarily unavailable while we wait for your transfers and purchases to be completed. <learnMore>Learn More</learnMore>"},loanCollateral:{id:"AvailableBalance.loanCollateral",defaultMessage:"Loan collateral"},loanCollateralDetail:{id:"AvailableBalance.loanCollateralDetail",defaultMessage:"Some of your Bitcoin is currently being held as collateral for a loan."},someFundsUnavailable:{id:"AvailableBalance.someFundsUnavailable",defaultMessage:"Some of your funds may be temporarily unavailable while we wait for a bank transfer or if you have funds held as collateral. <a>Learn more</a>"},availableToTrade:{id:"AvailableBalance.availableToTrade",defaultMessage:"Available to trade"},availableToSend:{id:"AvailableBalance.availableToSend",defaultMessage:"Available to send or spend"},balanceBreakdown:{id:"AvailableBalance.balanceBreakdown",defaultMessage:"Balance summary"},availableBalance:{id:"AvailableBalance.availableBalance",defaultMessage:"Available balance"},totalAssetBalance:{id:"AvailableBalance.totalAssetBalance",defaultMessage:"Total {assetSymbol} balance"},tradeTooltip:{id:"AvailableBalance.tradeTooltip",defaultMessage:"Your balance that can be used to buy, sell, convert, and earn."},sendTooltip:{id:"AvailableBalance.sendTooltip",defaultMessage:"Your balance that can be sent or used as collateral for borrow."},eth2Balance:{id:"AvailableBalance.eth2",defaultMessage:"ETH2 Balance"}})},q1fp:function(e,t,a){"use strict";t.a=e=>!!e},rg70:function(e,t,a){"use strict";var n=a("5n0U"),o=a("+I+c"),i=a("mXGw"),c=a.n(i),r=a("UutA"),l=a("WI56");const s=e=>{let{id:t,label:a,size:i,bold:r,children:l,color:s,center:b,labelFor:p}=e,m=Object(o.a)(e,["id","label","size","bold","children","color","center","labelFor"]);return c.a.createElement(u,Object.assign({column:!0},m),Object(n.a)(d,{id:t,htmlFor:p,size:i,bold:r,color:s,center:b},void 0,a),l)};s.defaultProps={size:"small",color:"slateDark"};const d=r.e.label.withConfig({displayName:"Labeled__Label",componentId:"sc-9vxnjo-0"})(["margin-bottom:5px;font-weight:",";font-size:",";color:",";",";"],({bold:e,theme:t})=>e?t.fontWeight.bold:t.fontWeight.medium,({theme:e,size:t})=>e.fontSize[t],({theme:e,color:t})=>"light"===t?e.color.textLight:"accent"===t?e.color.textAccent:e.color[t]?e.color[t]:e.color.text,({center:e})=>e&&"text-align: center;"),u=Object(r.e)(l.a).withConfig({displayName:"Labeled__LabelWrapper",componentId:"sc-9vxnjo-1"})(["margin:7px 0;"]);var b=s;t.a=b},sMDT:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("mXGw");var o=function({assetUuid:e,rewards:t}){return Object(n.useMemo)(()=>t.find(t=>t.assetId===e),[e,t])};var i=function({reward:e}){return Object(n.useMemo)(()=>{var t,a;return!!e&&Boolean(null===(t=e.asset)||void 0===t||null===(a=t.rewardPrincipalInsolvency)||void 0===a?void 0:a.event)},[e])};function c({assetUuid:e,rewards:t,modalType:a="trade"}){var n,c,r,l,s,d;const u=o({assetUuid:e,rewards:t}),b=i({reward:u}),p=null===u||void 0===u||null===(n=u.asset)||void 0===n||null===(c=n.rewardPrincipalInsolvency)||void 0===c||null===(r=c.event)||void 0===r?void 0:r.tradeModal,m=null===u||void 0===u||null===(l=u.asset)||void 0===l||null===(s=l.rewardPrincipalInsolvency)||void 0===s||null===(d=s.event)||void 0===d?void 0:d.transfersModal;return"trade"===a?b&&p?p:null:"transfer"===a&&b&&m?m:null}},tvCz:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("mXGw"),o=a.n(n),i=a("UutA"),c=a("2PU4");function r(e){const{onChange:t,value:a,autoExpand:i}=e,r=Object(n.useRef)(null),[s,d]=Object(n.useState)("auto"),u=Object(n.useCallback)(()=>{const e=r.current;e&&i&&d((e=>{const t=e.style.height,a=e.style.overflow;e.style.overflow="hidden",e.style.height="1px";const n=e.scrollHeight;return e.style.height=t,e.style.overflow=a,n})(e))},[i]),b=Object(n.useCallback)(e=>{u(),t&&t(e.target.value)},[t,u]);Object(n.useEffect)(()=>{const e=Object(c.a)(u);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),Object(n.useEffect)(()=>{u()},[a]);const p=i?{height:s}:{};return o.a.createElement(l,Object.assign({},e,{ref:r,style:p,onChange:b}))}const l=i.e.textarea.withConfig({displayName:"TextArea__StyledTextArea",componentId:"pukxhz-0"})(["background-color:",";color:",";",""],e=>e.theme.color.background,e=>e.theme.color.text,e=>e.autoExpand&&"\n    resize: none; \n  ")},vaWR:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("mXGw"),o=a("cqL8");function i(e){const t=Object(o.b)();return Object(n.useMemo)(()=>{if(e)return(t||[]).filter(t=>t.currency.code===e).find(e=>"collateral"===e.type)},[t,e])}},"vp/C":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("mXGw"),o=a("ZJfh");function i({children:e,onChange:t,onVisibleOnce:a,threshold:i,rootMargin:c}){const r=n.Children.only(e),l=Object(n.useRef)(!1),{ref:s,inView:d}=Object(o.a)({threshold:i,rootMargin:c}),u=Object(n.useRef)(t),b=Object(n.useRef)(a);Object(n.useEffect)(()=>{u.current=t,b.current=a},[u,b,t,a]),Object(n.useEffect)(()=>{u.current&&u.current(d)},[u,d]),Object(n.useEffect)(()=>{d&&!l.current&&b.current&&(l.current=!0,b.current())},[b,d]);return Object(n.cloneElement)(r,{ref:e=>{s.current=e;const{ref:t}=r;"function"===typeof t&&t(e)}})}},xJqp:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("mXGw"),o=a("/PpR"),i=a("cqL8"),c=a("NRCK"),r=a("3lp0"),l=a("ipi0"),s=a("N8wZ"),d=a("7rk+");function u({assetSymbol:e,totalHoldBalance:t,aggregateAccounts:a}){const[{collateralInFiat:u},b,{balance:{portfolioBalance:p}}]=Object(o.a)(t=>t(l.a)(e),e=>e(i.b)(),e=>e(c.a)()),m=function({accounts:e}){const t=Object(d.a)(),a=Object(s.a)();return Object(n.useMemo)(()=>e.filter(e=>"collateral"===e.type).reduce((e,n)=>e+a(n.balance,t),0),[e,a,t])}({accounts:b}),g=Object(r.a)({aggregateAccounts:a,currencyCode:e});return Object(n.useMemo)(()=>{var a;if(!e)return t;const n=Math.max(0,(null!=(a=null===g||void 0===g?void 0:g.cumulativeBalanceInNativeCurrency)?a:0)-u),o=Math.max(0,Number(null===p||void 0===p?void 0:p.value)-m-n);return Math.max(0,t-o)},[e,t,p,g,m,u])}},xLjK:function(e,t,a){"use strict";var n=a("5n0U"),o=a("mXGw"),i=a.n(o),c=a("GcVA"),r=a("hWgQ"),l=a("gN02"),s=a("UutA"),d=a("B05N"),u=a("kSTq"),b=a("WI56"),p=a("AaJB"),m=a("Xjp1");const g=Object(r.c)({goBack:{id:"AdditionalInfoStep.goBack",defaultMessage:"Go back"}});const f=Object(s.e)(b.a).withConfig({displayName:"AdditionalInfoStep__TopContent",componentId:"tzfwwy-0"})(["text-align:center;"]),v=Object(s.e)(b.a).withConfig({displayName:"AdditionalInfoStep__BottomContent",componentId:"tzfwwy-1"})(["",";"],e=>e.bottomPadded&&"padding-bottom: "+e.theme.size.huge),O=s.e.img.withConfig({displayName:"AdditionalInfoStep__ErrorImage",componentId:"tzfwwy-2"})(["width:100px;height:auto;padding:"," 0;"],e=>e.theme.size.huge);var j=Object(c.b)((function({onBack:e,footer:t,additionalInfo:a}){const{formatMessage:o}=Object(l.a)();if(!a)return Bugsnag.notify("Navigated to additional info step without error info"),e(),null;const{imageUrl:c,title:r,description:s}=a;return i.a.createElement(i.a.Fragment,null,Object(n.a)(m.a,{},void 0,Object(n.a)(f,{column:!0,auto:!0,align:"center"},void 0,Object(n.a)(O,{alt:"img",src:c}),Object(n.a)(d.a,{level:2,marginBottom:"md"},void 0,r),Object(n.a)(u.a,{color:"light"},void 0,s)),Object(n.a)(v,{column:!0,bottomPadded:!t},void 0,Object(n.a)(p.a,{fullWidth:!0,type:"light",size:"xlarge",onClick:e},void 0,o(g.goBack)))),t)}));t.a=j},xRJQ:function(e,t,a){"use strict";t.a=e=>t=>e.test(t)},zhne:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("mXGw");function o(){const[e,t]=Object(n.useState)(null);return Object(n.useEffect)(()=>{if(e)throw e},[e]),t}},zjQG:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("5n0U"),o=a("mXGw"),i=a("QLaP"),c=a.n(i),r=a("iKd7");function l({assetRewardPrincipalInsolvency:e,handleGoBack:t}){c()(e,"Insolvency step reached without asset insolvency data");const a=Object(o.useMemo)(()=>({title:e.title,dismiss:e.cta,message:e.text,cta:{url:e.learnLink.url,text:e.learnLink.text}}),[e]);return Object(n.a)(r.a,{content:a,goBackHandler:t})}}}]);
//# sourceMappingURL=advancedTrade-order-form~assetCategories~assetPagePortfolio~buySellModal~coinbase-card~coinbase-card~fe14eef5-085640b168e1ed53153d.chunk.js.map