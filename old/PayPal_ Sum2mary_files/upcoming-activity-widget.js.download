!function(t){function e(a){if(i[a])return i[a].exports;var n=i[a]={exports:{},id:a,loaded:!1};return t[a].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e){"use strict";window.addEventListener("load",function(){var t=document.querySelector("#js_widgetView"),e=window.PAYPAL,i=document.querySelector(".js_upcomingDismissBtn"),a=document.querySelectorAll(".js_upcomingDismissCancelBtn"),n=document.querySelector(".activity-dismiss-overlay"),o=document.querySelector("#upcomingDismiss-error"),c=document.querySelector("#upcomingDismiss"),r=void 0,s="";if(t){var d=t.querySelectorAll(".js_upcomingLinkedBlock"),l=function(t){if("click"===t.type||13===t.keyCode||32===t.keyCode)if(t.target&&t.target.href){if(t.target&&"dismiss"===t.target.name){var i=window&&window.PPVX&&window.PPVX.Modal;i&&(r=new i(".js_upcoming-dismiss-dialog",!0),t.preventDefault(),t.stopPropagation(),s=t.currentTarget.getAttribute("encrypted-transaction-id"),r.show())}var a=void 0,n=void 0;t.target&&t.target.dataset&&(t.target.dataset.pagename||t.target.dataset.pagename2)?(a=t.target.dataset.pagename,n=t.target.dataset.pagename2):(a="main:walletweb:activity:widget:upcomingActivity:"+t.target.name+":",n="main:walletweb:activity:widget:upcomingActivity:"+t.target.name+"::::");var o={data:{pgrp:a,page:n}};e&&e.analytics&&e.analytics.instance.recordClick(o)}else{t.preventDefault(),t.stopPropagation();var c="/myaccount/payments/agreements/"+t.currentTarget.getAttribute("data-bill-id"),d={data:{pgrp:"main:walletweb:activity:widget:upcomingTransactionClicked:",page:"main:walletweb:activity:widget:upcomingTransactionClicked::::"}};e&&e.analytics&&e.analytics.instance.recordClick(d),document.location.href=c}};if(d&&d.length>0)for(var u=0;u<d.length;u++)d[u].addEventListener("click",l),d[u].addEventListener("keydown",l);if(e&&e.analytics){var g={data:{pgrp:"main:walletweb:activity:upcoming:widget:home:",page:"main:walletweb:activity:upcoming:widget:home::::"}};e.analytics.setup(g)}}var m=function(t){t.preventDefault(),t.stopPropagation(),r.hide()},p=!1,w=function(t){n.classList.toggle("activity-spinner_show",t)},v=function(){o.classList.remove("hide"),c.classList.add("hide"),w(!1)},y=function(){var t=document.querySelector("#upcomingDismissTryAgainButton");t.addEventListener("click",k)},f=function(){p=!0;var t=new XMLHttpRequest;t.open("POST","/myaccount/transactions/upcoming/dismiss/"+s,!0),t.setRequestHeader("Accept","text/json"),t.setRequestHeader("x-csrf-token",document.querySelector("#nougatContext").dataset.token),t.send(),t.onload=function(){p=!1,204===t.status||200===t.status?window.location.reload():t.status>=400&&(v(),w(!1),y())},t.onerror=function(){p=!1,v(),w(!1),y()},t.ontimeout=function(){p=!1,v(),w(!1),y()};var i={data:{pgrp:"main:walletweb:activity:widget:DismissConfirmClicked:",page:"main:walletweb:activity:widget:DismissConfirmClicked::::"}};e&&e.analytics&&e.analytics.instance.recordClick(i)},k=function(){w(!0),p||f()};i&&i.addEventListener("click",k);for(var u=0;u<a.length;u++)a[u].addEventListener("click",m)})}]);
//# sourceMappingURL=upcoming-activity-widget.js.map